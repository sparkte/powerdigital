!function(e,t){function r(){for(var e=t.getElementsByTagName("script"),r=[],i=0;i<e.length;i++){var n=e[i].getAttribute("src")||"";-1!==n.indexOf("primerAnalytics")&&r.push({element:e[i],src:n})}return r}var i=function(){function e(e){var t=e.match(/[?&]clientId=([a-f0-9\-]+)/i);return t?t[1]:null}var i=t.currentScript;if(i&&(o=e(i.getAttribute("src")||"")))return o;for(var n=r(),a=0;a<n.length;a++){var o;if(o=e(n[a].src||""))return o}return null}(),n="primer_session",a="primer_visitor",AnalyticsService={formMappings:{},sessionId:null,visitorId:null,clientId:i,config:{baseURL:"https://web-script.api.sayprimer.com/v2/ingest",version:"20250827"},sessionStartTime:null,minimumHumanSessionTime:1e3,fcPid:null,FC_API_KEY:"pWCO5KbbNylBbaHcqpCGn2E7pdPqorlq",fcPidReceived:!1,pendingPageViewRetry:null,botPatterns:{userAgents:[/bot/i,/crawler/i,/spider/i,/googlebot/i,/bingbot/i,/slurp/i,/yahoo/i,/baidu/i,/baiduspider/i,/yandex/i,/sogou/i,/exabot/i,/facebookexternalhit/i,/dataprovider\.com/i,/alexa/i,/pingdom/i,/semrush/i,/ahref/i,/majestic/i,/phantomjs/i,/headless/i,/selenium/i,/puppet/i,/duckduckbot/i,/applebot/i,/linkedinbot/i,/discordbot/i,/telegrambot/i,/twitterbot/i,/quora link preview/i,/skypeuripreview/i,/slackbot/i,/lighthouse/i,/headlesschrome/i,/rendertron/i,/scrapy/i,/libwww-perl/i,/go-http-client/i,/testcafe/i,/playwright/i,/cypress/i,/whatsapp/i]},fieldPatterns:{name:[/^(full[-_\s]?name|name|your[-_\s]?name|contact[-_\s]?name)$/i,/^display[-_\s]?name$/i,/^(customer|client|user)[-_\s]?name$/i],first_name:[/\b(first[-_\s]?name|fname|given[-_\s]?name)\b.*\*?$/i,/\bfirst\b.*\*?$/i,/\bgiven\b.*\*?$/i,/\bfore[-_\s]?name\b.*\*?$/i,/\b(customer|client|user)[-_\s]?first[-_\s]?name\b.*\*?$/i,/\bprimary[-_\s]?name\b.*\*?$/i,/\bname\.?first\b.*\*?$/i,/\bname\.?given\b.*\*?$/i],last_name:[/\b(last[-_\s]?name|lname|surname|family[-_\s]?name)\b.*\*?$/i,/\blast\b.*\*?$/i,/\bsurname\b.*\*?$/i,/\bfamily\b.*\*?$/i,/\b(customer|client|user)[-_\s]?last[-_\s]?name\b.*\*?$/i,/\bname\.?last\b.*\*?$/i,/\bname\.?family\b.*\*?$/i],email:[/\b(email|e[-_\s]?mail|email[-_\s]?address)\b.*\*?$/i],company:[/\b(company|organization|organisation|company[-_\s]?name)\b.*\*?$/i],title:[/^(job[-_\s]?title|position|role|title)$/i],phone_number:[/^(phone|telephone|tel|phone[-_\s]?number|mobile|cell)$/i]},_isLocalStorageAvailable:null,init:function(){var i=this;if(!i.isBotUserAgent())if(i.clientId){i.restoreOrCreateSession(),i.retrieveOrGenerateVisitorId(function(){i.initPageTracking()}),i.setupFullContact();var n=function(){for(var e=t.querySelectorAll("form"),r=0;r<e.length;r++)i.trackForm(e[r])};e.requestIdleCallback?e.requestIdleCallback(function(){n()}):setTimeout(function(){n()},1500),new MutationObserver(function(e){e.forEach(function(e){for(var t=e.addedNodes,r=0;r<t.length;r++){var n=t[r];if("FORM"===n.nodeName&&i.trackForm(n),n.querySelectorAll)for(var a=n.querySelectorAll("form"),o=0;o<a.length;o++)i.trackForm(a[o])}})}).observe(t.body,{childList:!0,subtree:!0})}else i.reportFailure("missing_client_id",{script_tags:r().map(function(e){return e.src})})},isLocalStorageAvailable:function(){if(null!==this._isLocalStorageAvailable)return this._isLocalStorageAvailable;try{if(!e.localStorage)return this._isLocalStorageAvailable=!1,!1;var t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),this._isLocalStorageAvailable=!0,!0}catch(e){return this._isLocalStorageAvailable=!1,!1}},setupFullContact:function(){try{var r=this,i=r.getFcPidFromCookie();if(i&&(r.fcPid=i),!e.fc){e.FCObject="fc",e.fc=e.fc||function(){(e.fc.q=e.fc.q||[]).push(arguments)};var n=t.createElement("script"),a=t.getElementsByTagName("script")[0];n.id="fc",n.src="https://tags.fullcontact.com/anon/fullcontact.js",n.async=!0,n.onerror=function(e){try{r.reportFailure("fc_script_load_failed",{src:n.src,error:r.stringifyError(e),event:e?{type:e.type,bubbles:e.bubbles,cancelable:e.cancelable,timeStamp:e.timeStamp}:null})}catch(e){}};try{a&&a.parentNode?a.parentNode.insertBefore(n,a):t.head.appendChild(n)}catch(e){try{r.reportFailure("fc_loader_inject_error",{error:r.stringifyError(e)})}catch(e){}try{t.head.appendChild(n)}catch(e){try{r.reportFailure("fc_loader_append_error",{error:r.stringifyError(e)})}catch(e){}}}}var o={storageStrategy:"cookie",storageKey:"fc_pid",callback:function(t){r.fcPidReceived||(r.fcPid=t,r.fcPidReceived=!0,r.pendingPageViewRetry&&t&&(e.location.href===r.pendingPageViewRetry&&r.trackPageView(),r.pendingPageViewRetry=null))}};try{e.fc("init",r.FC_API_KEY,o)}catch(t){try{r.reportFailure("fc_init_error",{error:r.stringifyError(t)})}catch(e){}try{if(e.fc)e.fc("init",r.FC_API_KEY,o);else try{r.reportFailure("fc_init_fallback_unavailable",{note:"window.fc undefined during fallback"})}catch(e){}}catch(e){try{r.reportFailure("fc_init_fallback_error",{error:r.stringifyError(e)})}catch(e){}}}}catch(e){try{this.reportFailure("fc_setup_exception",{error:this.stringifyError(e)})}catch(e){}}},getCookieValue:function(e){try{var r=t.cookie||"";if(!r)return null;for(var i=r.split(";"),n=0;n<i.length;n++){var a=i[n].replace(/^\s+|\s+$/g,""),o=a.indexOf("=");if(-1!==o){var s=a.substring(0,o),l=a.substring(o+1);try{if(decodeURIComponent(s)===e)try{return decodeURIComponent(l)}catch(e){return l}}catch(e){}}}return null}catch(e){try{this.reportFailure("fc_cookie_read_error",{error:this.stringifyError(e)})}catch(e){}return null}},getFcPidFromCookie:function(){return this.getCookieValue("fc_pid")},getFcPid:function(){if(this.fcPid)return this.fcPid;var e=this.getFcPidFromCookie();return e?(this.fcPid=e,e):null},retrieveOrGenerateVisitorId:function(t){var r=this,i=this.getFromStorage(a);if(i)r.visitorId=i,t();else{var n=function(){r.initFingerprint(function(e){r.visitorId=e,r.saveToStorage(a,e),t()})};e.requestIdleCallback?requestIdleCallback(n):setTimeout(n,1500)}},initFingerprint:function(r){var i=this;if(e.FingerprintJS)i.useFingerprintJS(r);else{var n=t.createElement("script");n.src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3.4.2/dist/fp.umd.min.js",n.async=!0,n.onload=function(){i.useFingerprintJS(r)},n.onerror=function(e){i.reportFailure("fingerprint_load_failed",{src:n.src,error:i.stringifyError(e),event:e?{type:e.type,bubbles:e.bubbles,cancelable:e.cancelable,timeStamp:e.timeStamp}:null}),r(i.generateSimpleVisitorId())},t.head.appendChild(n)}},useFingerprintJS:function(e){var t=this;try{FingerprintJS.load({monitoring:!1,delayFallback:500}).then(function(e){return e.get()}).then(function(t){e(t.visitorId)}).catch(function(r){t.reportFailure("fingerprint_error",{message:r.message,error:t.stringifyError(r)}),e(t.generateSimpleVisitorId())})}catch(r){t.reportFailure("fingerprint_exception",{message:r.message,error:t.stringifyError(r)}),e(t.generateSimpleVisitorId())}},stringifyError:function(e){try{if(e&&"object"==typeof e&&e.constructor&&"Error"===e.constructor.name)return{name:e.name,message:e.message,stack:e.stack};if(e&&"object"==typeof e&&e.type&&"string"==typeof e.type){var t={type:e.type,eventPhase:e.eventPhase,timeStamp:e.timeStamp};return e.target&&(e.target.status&&(t.status=e.target.status),e.target.statusText&&(t.statusText=e.target.statusText),e.target.responseURL&&(t.responseURL=e.target.responseURL),e.target.responseText&&(t.responseText=e.target.responseText.substring(0,100))),t}for(var r={objectType:Object.prototype.toString.call(e),ownProperties:{}},i=Object.getOwnPropertyNames(e||{}),n=0;n<i.length;n++){var a=i[n];try{r.ownProperties[a]=String(e[a])}catch(e){r.ownProperties[a]="[Cannot stringify property]"}}return r}catch(t){return{stringifyFailed:!0,errorType:typeof e}}},generateSimpleVisitorId:function(){for(var e=[navigator.userAgent,navigator.language,navigator.platform,screen.colorDepth,screen.width+"x"+screen.height,(new Date).getTimezoneOffset()].join("|"),t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t).toString(16)},restoreOrCreateSession:function(){var e=this.getFromStorage(n);e?(this.sessionId=e.id,this.sessionStartTime=e.timestamp):(this.sessionId=this.generateUUID(),this.sessionStartTime=Date.now(),this.saveToStorage(n,{id:this.sessionId,timestamp:this.sessionStartTime},365))},saveToStorage:function(e,t,r){try{if(!this.isLocalStorageAvailable())return!1;var i={value:t,expires:r?Date.now()+24*r*60*60*1e3:null};return localStorage.setItem(e,JSON.stringify(i)),!0}catch(r){return this.reportFailure("storage_write",{key:e,error:this.stringifyError(r),dataType:typeof t}),!1}},getFromStorage:function(e){try{if(!this.isLocalStorageAvailable())return null;var t=localStorage.getItem(e);if(!t)return null;var r=JSON.parse(t);return r.expires&&Date.now()>r.expires?(localStorage.removeItem(e),null):r.value}catch(r){return this.reportFailure("storage_read",{key:e,error:this.stringifyError(r),rawData:"string"==typeof t?t.length>100?t.substring(0,100)+"...":t:null}),null}},removeFromStorage:function(e){try{return!!this.isLocalStorageAvailable()&&(localStorage.removeItem(e),!0)}catch(t){return this.reportFailure("storage_remove",{key:e,error:this.stringifyError(t)}),!1}},reportFailure:function(t,r){var i={client_id:this.clientId||"unknown",visitor_id:this.visitorId||"unknown",session_id:this.sessionId||"unknown",timestamp:(new Date).toISOString(),failure_type:t,details:r,url:e.location.href,user_agent:navigator.userAgent,script_src:this.getScriptSrc()};try{var n=this.config.baseURL,a=new XMLHttpRequest;a.open("POST",n+"/fail",!0),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({data:i}))}catch(e){}},getScriptSrc:function(){try{var e=r();return e.length>0?e[0].src:"unknown"}catch(e){return"error-getting-src"}},trackForm:function(e){var t=this.getFormId(e);this.formMappings[t]={formElement:e,fields:this.analyzeFormFields(e),metadata:this.getFormMetadata(e)},this.interceptFormSubmission(e,t)},analyzeFormFields:function(e){for(var t={},r=e.querySelectorAll("input, select, textarea"),i=0;i<r.length;i++){var n=this.identifyField(r[i]);n&&(t[n.type]={element:r[i],identifier:n.identifier,confidence:n.confidence})}return t},identifyField:function(e){var t=[e.id,e.name,e.getAttribute("aria-label"),e.getAttribute("data-field"),e.placeholder,this.getClosestLabel(e)?this.getClosestLabel(e).textContent.trim():null].filter(function(e){return!!e});for(var r in this.fieldPatterns)if(this.fieldPatterns.hasOwnProperty(r))for(var i=this.fieldPatterns[r],n=0;n<t.length;n++)for(var a=t[n],o=0;o<i.length;o++)if(i[o].test(a))return{type:r,identifier:a,confidence:this.calculateFieldConfidence(r,a,e)};return this.detectUnlabeledField(e)},getClosestLabel:function(e){if(e.id){var r=t.querySelector('label[for="'+e.id+'"]');if(r)return r}for(var i=e.parentElement;i;){if("LABEL"===i.tagName)return i;i=i.parentElement}return null},calculateFieldConfidence:function(e,t,r){var i=0,n=this.fieldPatterns[e];return r.id&&this.testPatterns(n,r.id)&&(i+=.4),r.name&&this.testPatterns(n,r.name)&&(i+=.4),("email"===e&&"email"===r.type||"phone_number"===e&&"tel"===r.type)&&(i+=.3),Math.min(i,1)},testPatterns:function(e,t){for(var r=0;r<e.length;r++)if(e[r].test(t))return!0;return!1},detectUnlabeledField:function(e){return"email"===e.type?{type:"email",identifier:"email",confidence:.9}:"tel"===e.type?{type:"phone_number",identifier:"phone",confidence:.9}:null},interceptFormSubmission:function(e,t){var r=this;e.addEventListener("submit",function(e){r.handleFormSubmission(e,t)},!0);var i=e.submit;e.submit=function(){r.handleFormSubmission({target:e},t),i.apply(e)}},handleFormSubmission:function(t,r){var i=this.formMappings[r],n=i.formElement,a={submission_id:this.sessionId,visitor_id:this.visitorId,session_id:this.sessionId,domain:e.location.hostname,timestamp:(new Date).toISOString(),form_name:i.metadata.formName,mapped_fields:this.collectFormData(i),raw_fields:this.collectRawFormData(n),metadata:i.metadata,cookies:this.collectCookies(),current_url:e.location.href,user_agent:navigator.userAgent,device_type:this.getDeviceType()};this.sendToAnalytics(a,"form")},collectCookies:function(){var e={},r=t.cookie;if(!r)return e;for(var i=r.split(";"),n=0;n<i.length;n++){var a=i[n].trim().split("=");if(2===a.length)try{var o=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]);e[o]=s}catch(t){e[a[0]]=a[1],this.reportFailure("cookie_decode",{cookieName:a[0],error:this.stringifyError(t)})}}return e},collectRawFormData:function(e){for(var t={},r=e.elements,i=0;i<r.length;i++){var n=r[i];if(this.isValidFormElement(n)){var a=n.name||n.id;if(a){switch(n.type){case"checkbox":t[a]=n.checked;break;case"radio":n.checked&&(t[a]=n.value);break;case"select-multiple":for(var o=[],s=0;s<n.options.length;s++)n.options[s].selected&&o.push(n.options[s].value);t[a]=o;break;case"file":n.files&&n.files.length&&(t[a]=Array.prototype.map.call(n.files,function(e){return e.name}));break;default:t[a]=n.value}t[a+"_metadata"]={type:n.type,required:n.required,disabled:n.disabled,readonly:n.readOnly,maxLength:n.maxLength>0?n.maxLength:null,label:this.getFieldLabel(n)}}}}return t},getFieldLabel:function(e){var t=this.getClosestLabel(e);return t?t.textContent.trim():null},isValidFormElement:function(e){return!(!e.name&&!e.id)&&-1===["button","submit","reset","fieldset","password"].indexOf(e.type)},collectFormData:function(e){var t={};for(var r in e.fields)if(e.fields.hasOwnProperty(r)){var i=e.fields[r];t[r]={value:i.element.value,confidence:i.confidence}}return t},getFormMetadata:function(r){return{formName:r.getAttribute("name")||r.id||"unnamed_form",formAction:r.action,formMethod:r.method,pageTitle:t.title,screenResolution:e.screen.width+"x"+e.screen.height,viewport:e.innerWidth+"x"+e.innerHeight,timezone:this.getTimezone()}},getTimezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(i){var e=(new Date).getTimezoneOffset(),t=Math.floor(Math.abs(e)/60),r=Math.abs(e)%60;return"UTC"+(e<=0?"+":"-")+(t<10?"0":"")+t+":"+(r<10?"0":"")+r}},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},getFormId:function(e){return e.id||e.getAttribute("name")||this.generateFormId(e)},generateFormId:function(e){var t=this.generateUUID();return e.setAttribute("data-form-tracker-id",t),t},initPageTracking:function(){var e=this;setTimeout(function(){e.isBot()||e.trackPageView()},this.minimumHumanSessionTime),this.setupHistoryChangeListener()},isBot:function(){return Date.now()-this.sessionStartTime<this.minimumHumanSessionTime||this.isBotUserAgent()},isBotUserAgent:function(){for(var e=navigator.userAgent||"",t=0;t<this.botPatterns.userAgents.length;t++)if(this.botPatterns.userAgents[t].test(e))return!0;return!1},trackPageView:function(){this.fcPidReceived||(this.pendingPageViewRetry=e.location.href);var r=this.parseQueryParameters(),i={visitor_id:this.visitorId,session_id:this.sessionId,timestamp:(new Date).toISOString(),domain:e.location.hostname,current_url:e.location.href,current_path:e.location.pathname,page_title:t.title,referrer:t.referrer,referral_path:this.extractReferralPath(t.referrer),traffic_type:this.determineTrafficType(r),source_platform:this.determineSourcePlatform(r),utm_source:r.utm_source||null,utm_medium:r.utm_medium||null,utm_campaign:r.utm_campaign||null,utm_term:r.utm_term||null,utm_content:r.utm_content||null,campaign_content:r.campaign_content||null,gclid:r.gclid||null,fbclid:r.fbclid||null,msclkid:r.msclkid||null,twclid:r.twclid||null,ttclid:r.ttclid||null,li_fat_id:r.li_fat_id||null,user_agent:navigator.userAgent,screen_resolution:e.screen.width+"x"+e.screen.height,viewport_size:e.innerWidth+"x"+e.innerHeight,language:navigator.language||navigator.userLanguage,connection_type:this.getConnectionType(),device_type:this.getDeviceType(),operating_system:this.getOperatingSystem(),cookies:this.collectCookies()};this.sendToAnalytics(i,"pageview")},parseQueryParameters:function(){var t={};try{var r=e.location.search.substring(1);if(!r)return t;for(var i=r.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if(2==a.length)try{var o=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]||"");t[o]=s}catch(e){this.reportFailure("query_param_decode",{parameter:a[0],value:a[1],error:this.stringifyError(e)})}}}catch(t){this.reportFailure("query_param_parse",{error:this.stringifyError(t),search:e.location.search.substring(0,100)})}return t},extractReferralPath:function(e){if(!e)return null;var r=t.createElement("a");return r.href=e,r.pathname},determineTrafficType:function(e){var r=t.referrer,i=!!e.utm_source;return this.hasAnyClickId(e)?"paid":i?"campaign":r?this.isSearchEngine(r)?"organic":this.isSocialMedia(r)?"social":"referral":"direct"},determineSourcePlatform:function(e){var r=t.referrer;if(e.gclid)return"google";if(e.fbclid)return"facebook";if(e.msclkid)return"microsoft";if(e.twclid)return"twitter";if(e.ttclid)return"tiktok";if(e.li_fat_id)return"linkedin";if(r){var i=this.extractDomain(r);return this.isSearchEngine(i)||this.isSocialMedia(i),i}return"direct"},getConnectionType:function(){return navigator.connection?navigator.connection.effectiveType:null},getDeviceType:function(){var e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},getOperatingSystem:function(){var e=navigator.userAgent;return/Windows/i.test(e)?"Windows":/Mac OS X/i.test(e)?"macOS":/Linux/i.test(e)?"Linux":/Android/i.test(e)?"Android":/iOS|iPhone|iPad|iPod/i.test(e)?"iOS":"Unknown"},setupHistoryChangeListener:function(){var r=this;r.lastPath=e.location.pathname;var i=e.location.href,n=function(){var t=e.location.href;r.isBot()||t===i||(i=t,r.trackPageView())};e.addEventListener("popstate",n);var a=history.pushState;history.pushState=function(){a.apply(this,arguments),n()};var o=history.replaceState;history.replaceState=function(){o.apply(this,arguments),n()},e.addEventListener("hashchange",n),new MutationObserver(function(t){r.lastPath!==e.location.pathname&&(r.lastPath=e.location.pathname,n())}).observe(t.documentElement,{childList:!1,subtree:!0,attributes:!0,attributeFilter:["href"]})},hasAnyClickId:function(e){return e||(e=this.parseQueryParameters()),e.gclid||e.fbclid||e.msclkid||e.twclid||e.ttclid||e.li_fat_id},isSearchEngine:function(e){for(var t=["google","bing","yahoo","duckduckgo","baidu","yandex"],r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return!0;return!1},isSocialMedia:function(e){for(var t=["facebook","twitter","linkedin","instagram","pinterest","youtube"],r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return!0;return!1},extractDomain:function(e){if(!e)return"";try{var r=t.createElement("a");return r.href=e,r.hostname}catch(t){return this.reportFailure("domain_extraction",{url:e,error:this.stringifyError(t)}),""}},sendToAnalytics:function(e,t){var r=this;if("pageview"!==t||!this.isBot()){e.version=this.config.version,e.client_id=this.clientId,e.fc_pid=r.getFcPid();var i=this.config.baseURL+"/"+t,n=JSON.stringify({data:e}),a=new XMLHttpRequest;a.open("POST",i,!0),a.setRequestHeader("Content-Type","application/json"),a.onerror=function(e){r.reportFailure("api_request_failed",{endpoint:i,type:t,error:r.stringifyError(e),readyState:a.readyState,status:a.status,statusText:a.statusText})},a.send(n)}}};"complete"===t.readyState?AnalyticsService.init():e.addEventListener("load",function(){AnalyticsService.init()})}(window,document);