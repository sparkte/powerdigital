(function(){"use strict";var Wt=typeof document<"u"?document.currentScript:null,W=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis||{},X={searchParams:"URLSearchParams"in W,iterable:"Symbol"in W&&"iterator"in Symbol,blob:"FileReader"in W&&"Blob"in W&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in W,arrayBuffer:"ArrayBuffer"in W};function Ha(e){return e&&DataView.prototype.isPrototypeOf(e)}if(X.arrayBuffer)var ja=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ga=ArrayBuffer.isView||function(e){return e&&ja.indexOf(Object.prototype.toString.call(e))>-1};function Ve(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Vt(e){return typeof e!="string"&&(e=String(e)),e}function zt(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return X.iterable&&(t[Symbol.iterator]=function(){return t}),t}function j(e){this.map={},e instanceof j?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}j.prototype.append=function(e,t){e=Ve(e),t=Vt(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},j.prototype.delete=function(e){delete this.map[Ve(e)]},j.prototype.get=function(e){return e=Ve(e),this.has(e)?this.map[e]:null},j.prototype.has=function(e){return this.map.hasOwnProperty(Ve(e))},j.prototype.set=function(e,t){this.map[Ve(e)]=Vt(t)},j.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},j.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),zt(e)},j.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),zt(e)},j.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),zt(e)},X.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);function Yt(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function qn(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function Wa(e){var t=new FileReader,r=qn(t);return t.readAsArrayBuffer(e),r}function Va(e){var t=new FileReader,r=qn(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=n?n[1]:"utf-8";return t.readAsText(e,o),r}function za(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Hn(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function jn(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:X.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:X.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:X.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():X.arrayBuffer&&X.blob&&Ha(e)?(this._bodyArrayBuffer=Hn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):X.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ga(e))?this._bodyArrayBuffer=Hn(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):X.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},X.blob&&(this.blob=function(){var e=Yt(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Yt(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(X.blob)return this.blob().then(Wa);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=Yt(this);if(e)return e;if(this._bodyBlob)return Va(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(za(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},X.formData&&(this.formData=function(){return this.text().then(Ja)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ya=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ka(e){var t=e.toUpperCase();return Ya.indexOf(t)>-1?t:e}function ke(e,t){if(!(this instanceof ke))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof ke){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new j(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new j(t.headers)),this.method=Ka(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in W){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ke.prototype.clone=function(){return new ke(this,{body:this._bodyInit})};function Ja(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function Xa(e){var t=new j,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),i=o.shift().trim();if(i){var a=o.join(":").trim();try{t.append(i,a)}catch(s){console.warn("Response "+s.message)}}}),t}jn.call(ke.prototype);function he(e,t){if(!(this instanceof he))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new j(t.headers),this.url=t.url||"",this._initBody(e)}jn.call(he.prototype),he.prototype.clone=function(){return new he(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},he.error=function(){var e=new he(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var Qa=[301,302,303,307,308];he.redirect=function(e,t){if(Qa.indexOf(t)===-1)throw new RangeError("Invalid status code");return new he(null,{status:t,headers:{location:e}})};var Ne=W.DOMException;try{new Ne}catch{Ne=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne}function gt(e,t){return new Promise(function(r,n){var o=new ke(e,t);if(o.signal&&o.signal.aborted)return n(new Ne("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var u={statusText:i.statusText,headers:Xa(i.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(i.status<200||i.status>599)?u.status=200:u.status=i.status,u.url="responseURL"in i?i.responseURL:u.headers.get("X-Request-URL");var f="response"in i?i.response:i.responseText;setTimeout(function(){r(new he(f,u))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new Ne("Aborted","AbortError"))},0)};function s(u){try{return u===""&&W.location.href?W.location.href:u}catch{return u}}if(i.open(o.method,s(o.url),!0),o.credentials==="include"?i.withCredentials=!0:o.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(X.blob?i.responseType="blob":X.arrayBuffer&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof j||W.Headers&&t.headers instanceof W.Headers)){var c=[];Object.getOwnPropertyNames(t.headers).forEach(function(u){c.push(Ve(u)),i.setRequestHeader(u,Vt(t.headers[u]))}),o.headers.forEach(function(u,f){c.indexOf(f)===-1&&i.setRequestHeader(f,u)})}else o.headers.forEach(function(u,f){i.setRequestHeader(f,u)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&o.signal.removeEventListener("abort",a)}),i.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}gt.polyfill=!0,W.fetch||(W.fetch=gt,W.Headers=j,W.Request=ke,W.Response=he);const D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,L=globalThis,Le="10.9.0";function _t(){return vt(L),L}function vt(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Le,t[Le]=t[Le]||{}}function at(e,t,r=L){const n=r.__SENTRY__=r.__SENTRY__||{},o=n[Le]=n[Le]||{};return o[e]||(o[e]=t())}const Za=["debug","info","warn","error","log","assert","trace"],es="Sentry Logger ",Et={};function bt(e){if(!("console"in L))return e();const t=L.console,r={},n=Object.keys(Et);n.forEach(o=>{const i=Et[o];r[o]=t[o],t[o]=i});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function ts(){Jt().enabled=!0}function rs(){Jt().enabled=!1}function Gn(){return Jt().enabled}function ns(...e){Kt("log",...e)}function os(...e){Kt("warn",...e)}function is(...e){Kt("error",...e)}function Kt(e,...t){D&&Gn()&&bt(()=>{L.console[e](`${es}[${e}]:`,...t)})}function Jt(){return D?at("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const O={enable:ts,disable:rs,isEnabled:Gn,log:ns,warn:os,error:is},Wn=50,Me="?",Vn=/\(error: (.*)\)/,zn=/captureMessage|captureException/;function as(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,o=0)=>{const i=[],a=r.split(`
`);for(let s=n;s<a.length;s++){let c=a[s];c.length>1024&&(c=c.slice(0,1024));const u=Vn.test(c)?c.replace(Vn,"$1"):c;if(!u.match(/\S*Error: /)){for(const f of t){const h=f(u);if(h){i.push(h);break}}if(i.length>=Wn+o)break}}return ss(i.slice(o))}}function ss(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(St(t).function||"")&&t.pop(),t.reverse(),zn.test(St(t).function||"")&&(t.pop(),zn.test(St(t).function||"")&&t.pop()),t.slice(0,Wn).map(r=>({...r,filename:r.filename||St(t).filename,function:r.function||Me}))}function St(e){return e[e.length-1]||{}}const Xt="<anonymous>";function we(e){try{return!e||typeof e!="function"?Xt:e.name||Xt}catch{return Xt}}function Yn(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const wt={},Kn={};function $e(e,t){wt[e]=wt[e]||[],wt[e].push(t)}function Ue(e,t){if(!Kn[e]){Kn[e]=!0;try{t()}catch(r){D&&O.error(`Error while instrumenting ${e}`,r)}}}function fe(e,t){const r=e&&wt[e];if(r)for(const n of r)try{n(t)}catch(o){D&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${we(n)}
Error:`,o)}}let Qt=null;function cs(e){const t="error";$e(t,e),Ue(t,us)}function us(){Qt=L.onerror,L.onerror=function(e,t,r,n,o){return fe("error",{column:n,error:o,line:r,msg:e,url:t}),Qt?Qt.apply(this,arguments):!1},L.onerror.__SENTRY_INSTRUMENTED__=!0}let Zt=null;function ls(e){const t="unhandledrejection";$e(t,e),Ue(t,fs)}function fs(){Zt=L.onunhandledrejection,L.onunhandledrejection=function(e){return fe("unhandledrejection",e),Zt?Zt.apply(this,arguments):!0},L.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Jn=Object.prototype.toString;function er(e){switch(Jn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ae(e,Error)}}function ze(e,t){return Jn.call(e)===`[object ${t}]`}function Xn(e){return ze(e,"ErrorEvent")}function Qn(e){return ze(e,"DOMError")}function ds(e){return ze(e,"DOMException")}function ye(e){return ze(e,"String")}function tr(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function rr(e){return e===null||tr(e)||typeof e!="object"&&typeof e!="function"}function st(e){return ze(e,"Object")}function At(e){return typeof Event<"u"&&Ae(e,Event)}function ps(e){return typeof Element<"u"&&Ae(e,Element)}function hs(e){return ze(e,"RegExp")}function It(e){return!!(e?.then&&typeof e.then=="function")}function ms(e){return st(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ae(e,t){try{return e instanceof t}catch{return!1}}function Zn(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function ys(e){return typeof Request<"u"&&Ae(e,Request)}const nr=L,gs=80;function eo(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,o=[];let i=0,a=0;const s=" > ",c=s.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||gs;for(;r&&i++<n&&(u=_s(r,f),!(u==="html"||i>1&&a+o.length*c+u.length>=h));)o.push(u),a+=u.length,r=r.parentNode;return o.reverse().join(s)}catch{return"<unknown>"}}function _s(e,t){const r=e,n=[];if(!r?.tagName)return"";if(nr.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const o=t?.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(o?.length)o.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&ye(a)){const s=a.split(/\s+/);for(const c of s)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const s=r.getAttribute(a);s&&n.push(`[${a}="${s}"]`)}return n.join("")}function to(){try{return nr.document.location.href}catch{return""}}function vs(e){if(!nr.HTMLElement)return null;let t=e;const r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Tt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ro(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const o=e[n];try{Zn(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Ot(e,t,r=!1){return ye(e)?hs(t)?t.test(e):ye(t)?r?e===t:e.includes(t):!1:!1}function Pt(e,t=[],r=!1){return t.some(n=>Ot(e,n,r))}function re(e,t,r){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const o=r(n);typeof o=="function"&&no(o,n);try{e[t]=o}catch{D&&O.log(`Failed to replace method "${t}" in object`,e)}}function Be(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{D&&O.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function no(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Be(e,"__sentry_original__",t)}catch{}}function or(e){return e.__sentry_original__}function oo(e){if(er(e))return{message:e.message,name:e.name,stack:e.stack,...ao(e)};if(At(e)){const t={type:e.type,target:io(e.target),currentTarget:io(e.currentTarget),...ao(e)};return typeof CustomEvent<"u"&&Ae(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function io(e){try{return ps(e)?eo(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ao(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Es(e,t=40){const r=Object.keys(oo(e));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return Tt(n,t);for(let o=r.length;o>0;o--){const i=r.slice(0,o).join(", ");if(!(i.length>t))return o===r.length?i:Tt(i,t)}return""}function bs(){const e=L;return e.crypto||e.msCrypto}function ae(e=bs()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function so(e){return e.exception?.values?.[0]}function qe(e){const{message:t,event_id:r}=e;if(t)return t;const n=so(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ir(e,t,r){const n=e.exception=e.exception||{},o=n.values=n.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ye(e,t){const r=so(e);if(!r)return;const n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...n,...o,...t},t&&"data"in t){const i={...o?.data,...t.data};r.mechanism.data=i}}function co(e){if(Ss(e))return!0;try{Be(e,"__sentry_captured__",!0)}catch{}return!1}function Ss(e){try{return e.__sentry_captured__}catch{}}const uo=1e3;function ct(){return Date.now()/uo}function ws(){const{performance:e}=L;if(!e?.now||!e.timeOrigin)return ct;const t=e.timeOrigin;return()=>(t+e.now())/uo}let lo;function ge(){return(lo??(lo=ws()))()}function As(e){const t=ge(),r={sid:ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ts(r)};return e&&Ke(r,e),r}function Ke(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ge(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ae()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Is(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),Ke(e,r)}function Ts(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function ut(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=ut(n[o],t[o],r-1));return n}function fo(){return ae()}function po(){return ae().substring(16)}const ar="_sentrySpan";function ho(e,t){t?Be(e,ar,t):delete e[ar]}function mo(e){return e[ar]}const Os=100;class me{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:fo(),sampleRand:Math.random()}}clone(){const t=new me;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ho(t,mo(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ke(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof me?r.getScopeData():st(r)?t:void 0,{tags:o,extra:i,user:a,contexts:s,level:c,fingerprint:u=[],propagationContext:f}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),f&&(this._propagationContext=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ho(this,void 0),this._attachments=[],this.setPropagationContext({traceId:fo(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:Os;if(n<=0)return this;const o={timestamp:ct(),...t,message:t.message?Tt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:mo(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=ut(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r?.event_id||ae();if(!this._client)return D&&O.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...r,event_id:n},this),n}captureMessage(t,r,n){const o=n?.event_id||ae();if(!this._client)return D&&O.warn("No client configured on scope - will not capture message!"),o;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:o},this),o}captureEvent(t,r){const n=r?.event_id||ae();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(D&&O.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Ps(){return at("defaultCurrentScope",()=>new me)}function Rs(){return at("defaultIsolationScope",()=>new me)}class Fs{constructor(t,r){let n;t?n=t:n=new me;let o;r?o=r:o=new me,this._stack=[{scope:n}],this._isolationScope=o}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(o){throw this._popScope(),o}return It(n)?n.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Je(){const e=_t(),t=vt(e);return t.stack=t.stack||new Fs(Ps(),Rs())}function Ds(e){return Je().withScope(e)}function Cs(e,t){const r=Je();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function yo(e){return Je().withScope(()=>e(Je().getIsolationScope()))}function xs(){return{withIsolationScope:yo,withScope:Ds,withSetScope:Cs,withSetIsolationScope:(e,t)=>yo(t),getCurrentScope:()=>Je().getScope(),getIsolationScope:()=>Je().getIsolationScope()}}function sr(e){const t=vt(e);return t.acs?t.acs:xs()}function Xe(){const e=_t();return sr(e).getCurrentScope()}function lt(){const e=_t();return sr(e).getIsolationScope()}function ks(){return at("globalScope",()=>new me)}function Ns(...e){const t=_t(),r=sr(t);if(e.length===2){const[n,o]=e;return n?r.withSetScope(n,o):r.withScope(o)}return r.withScope(e[0])}function Q(){return Xe().getClient()}function Ls(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:o}=t,i={trace_id:r,span_id:o||po()};return n&&(i.parent_span_id=n),i}const Ms="sentry.source",$s="sentry.sample_rate",Us="sentry.previous_trace_sample_rate",Bs="sentry.op",qs="sentry.origin",go="sentry.profile_id",_o="sentry.exclusive_time",Hs=0,js=1,Gs="_sentryScope",Ws="_sentryIsolationScope";function vo(e){return{scope:e[Gs],isolationScope:e[Ws]}}const Vs="sentry-",zs=/^sentry-/;function Ys(e){const t=Ks(e);if(!t)return;const r=Object.entries(t).reduce((n,[o,i])=>{if(o.match(zs)){const a=o.slice(Vs.length);n[a]=i}return n},{});if(Object.keys(r).length>0)return r}function Ks(e){if(!(!e||!ye(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{const n=Eo(r);return Object.entries(n).forEach(([o,i])=>{t[o]=i}),t},{}):Eo(e)}function Eo(e){return e.split(",").map(t=>t.split("=").map(r=>{try{return decodeURIComponent(r.trim())}catch{return}})).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}const Js=/^o(\d+)\./,Xs=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qs(e){return e==="http"||e==="https"}function Rt(e,t=!1){const{host:r,path:n,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function Zs(e){const t=Xs.exec(e);if(!t){bt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,o="",i="",a="",s=""]=t.slice(1);let c="",u=s;const f=u.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),u=f.pop()),u){const h=u.match(/^\d+/);h&&(u=h[0])}return bo({host:i,pass:o,path:c,projectId:u,port:a,protocol:r,publicKey:n})}function bo(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ec(e){if(!D)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(O.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?Qs(n)?t&&isNaN(parseInt(t,10))?(O.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(O.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function tc(e){return e.match(Js)?.[1]}function rc(e){const t=e.getOptions(),{host:r}=e.getDsn()||{};let n;return t.orgId?n=String(t.orgId):r&&(n=tc(r)),n}function nc(e){const t=typeof e=="string"?Zs(e):bo(e);if(!(!t||!ec(t)))return t}function oc(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const So=1;let wo=!1;function ic(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext(),o=n?t:cr(e).parent_span_id,i=vo(e).scope,a=n?i?.getPropagationContext().propagationSpanId||po():t;return{parent_span_id:o,span_id:a,trace_id:r}}function ac(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:r,traceFlags:n,...o},attributes:i})=>({span_id:t,trace_id:r,sampled:n===So,attributes:i,...o}))}function Ao(e){return typeof e=="number"?Io(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Io(e.getTime()):ge()}function Io(e){return e>9999999999?e/1e3:e}function cr(e){if(cc(e))return e.getSpanJSON();const{spanId:t,traceId:r}=e.spanContext();if(sc(e)){const{attributes:n,startTime:o,name:i,endTime:a,status:s,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:r,data:n,description:i,parent_span_id:u,start_timestamp:Ao(o),timestamp:Ao(a)||void 0,status:lc(s),op:n[Bs],origin:n[qs],links:ac(c)}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function sc(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function cc(e){return typeof e.getSpanJSON=="function"}function uc(e){const{traceFlags:t}=e.spanContext();return t===So}function lc(e){if(!(!e||e.code===Hs))return e.code===js?"ok":e.message||"unknown_error"}const fc="_sentryRootSpan";function To(e){return e[fc]||e}function Oo(){wo||(bt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),wo=!0)}function dc(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Q()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const ur="production",pc="_frozenDsc";function Po(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},o={environment:r.environment||ur,release:r.release,public_key:n,trace_id:e,org_id:rc(t)};return t.emit("createDsc",o),o}function hc(e,t){const r=t.getPropagationContext();return r.dsc||Po(r.traceId,e)}function mc(e){const t=Q();if(!t)return{};const r=To(e),n=cr(r),o=n.data,i=r.spanContext().traceState,a=i?.get("sentry.sample_rate")??o[$s]??o[Us];function s(_){return(typeof a=="number"||typeof a=="string")&&(_.sample_rate=`${a}`),_}const c=r[pc];if(c)return s(c);const u=i?.get("sentry.dsc"),f=u&&Ys(u);if(f)return s(f);const h=Po(e.spanContext().traceId,t),v=o[Ms],l=n.description;return v!=="url"&&l&&(h.transaction=l),dc()&&(h.sampled=String(uc(r)),h.sample_rand=i?.get("sentry.sample_rand")??vo(r).scope?.getPropagationContext().sampleRand.toString()),s(h),t.emit("createDsc",h,r),h}function _e(e,t=100,r=1/0){try{return lr("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Ro(e,t=3,r=100*1024){const n=_e(e,t);return vc(n)>r?Ro(e,t-1,r):n}function lr(e,t,r=1/0,n=1/0,o=Ec()){const[i,a]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const s=yc(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return s.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const l=u.toJSON();return lr("",l,c-1,n,o)}catch{}const f=Array.isArray(t)?[]:{};let h=0;const v=oo(t);for(const l in v){if(!Object.prototype.hasOwnProperty.call(v,l))continue;if(h>=n){f[l]="[MaxProperties ~]";break}const _=v[l];f[l]=lr(l,_,c-1,n,o),h++}return a(t),f}function yc(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&t===globalThis)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Zn(t))return"[VueViewModel]";if(ms(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${we(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=gc(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function gc(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function _c(e){return~-encodeURI(e).split(/%..|./).length}function vc(e){return _c(JSON.stringify(e))}function Ec(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function r(n){e.delete(n)}return[t,r]}function ft(e,t=[]){return[e,t]}function bc(e,t){const[r,n]=e;return[r,[...n,t]]}function Fo(e,t){const r=e[1];for(const n of r){const o=n[0].type;if(t(n,o))return!0}return!1}function fr(e){const t=vt(L);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Sc(e){const[t,r]=e;let n=JSON.stringify(t);function o(i){typeof n=="string"?n=typeof i=="string"?n+i:[fr(n),i]:n.push(typeof i=="string"?fr(i):i)}for(const i of r){const[a,s]=i;if(o(`
${JSON.stringify(a)}
`),typeof s=="string"||s instanceof Uint8Array)o(s);else{let c;try{c=JSON.stringify(s)}catch{c=JSON.stringify(_e(s))}o(c)}}return typeof n=="string"?n:wc(n)}function wc(e){const t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}function Ac(e){const t=typeof e.data=="string"?fr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Ic={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Do(e){return Ic[e]}function Co(e){if(!e?.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Tc(e,t,r,n){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:Rt(n)},...o&&{trace:o}}}function xo(e,t){if(!t?.length||!e.description)return!1;for(const r of t){if(Pc(r)){if(Ot(e.description,r))return!0;continue}if(!r.name&&!r.op)continue;const n=r.name?Ot(e.description,r.name):!0,o=r.op?e.op&&Ot(e.op,r.op):!0;if(n&&o)return!0}return!1}function Oc(e,t){const r=t.parent_span_id,n=t.span_id;if(r)for(const o of e)o.parent_span_id===n&&(o.parent_span_id=r)}function Pc(e){return typeof e=="string"||e instanceof RegExp}function Rc(e,t){if(!t)return e;const r=e.sdk||{};return e.sdk={...r,name:r.name||t.name,version:r.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Fc(e,t,r,n){const o=Co(r),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!n&&t&&{dsn:Rt(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ft(i,[a])}function Dc(e,t,r,n){const o=Co(r),i=e.type&&e.type!=="replay_event"?e.type:"event";Rc(e,r?.sdk);const a=Tc(e,o,n,t);return delete e.sdkProcessingMetadata,ft(a,[[{type:i},e]])}const dr=0,ko=1,No=2;function He(e){return new Ie(t=>{t(e)})}function Ft(e){return new Ie((t,r)=>{r(e)})}class Ie{constructor(t){this._state=dr,this._handlers=[],this._runExecutor(t)}then(t,r){return new Ie((n,o)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(a){o(a)}},i=>{if(!r)o(i);else try{n(r(i))}catch(a){o(a)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Ie((r,n)=>{let o,i;return this.then(a=>{i=!1,o=a,t&&t()},a=>{i=!0,o=a,t&&t()}).then(()=>{if(i){n(o);return}r(o)})})}_executeHandlers(){if(this._state===dr)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===ko&&r[1](this._value),this._state===No&&r[2](this._value),r[0]=!0)})}_runExecutor(t){const r=(i,a)=>{if(this._state===dr){if(It(a)){a.then(n,o);return}this._state=i,this._value=a,this._executeHandlers()}},n=i=>{r(ko,i)},o=i=>{r(No,i)};try{t(n,o)}catch(i){o(i)}}}function pr(e,t,r,n=0){return new Ie((o,i)=>{const a=e[n];if(t===null||typeof a!="function")o(t);else{const s=a({...t},r);D&&a.id&&s===null&&O.log(`Event processor "${a.id}" dropped event`),It(s)?s.then(c=>pr(e,c,r,n+1).then(o)).then(null,i):pr(e,s,r,n+1).then(o).then(null,i)}})}function Cc(e,t){const{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:i}=t;xc(e,t),n&&Lc(e,n),Mc(e,r),kc(e,o),Nc(e,i)}function Lo(e,t){const{extra:r,tags:n,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:f,attachments:h,propagationContext:v,transactionName:l,span:_}=t;Dt(e,"extra",r),Dt(e,"tags",n),Dt(e,"user",o),Dt(e,"contexts",i),e.sdkProcessingMetadata=ut(e.sdkProcessingMetadata,s,2),a&&(e.level=a),l&&(e.transactionName=l),_&&(e.span=_),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...v}}function Dt(e,t,r){e[t]=ut(e[t],r,1)}function xc(e,t){const{extra:r,tags:n,user:o,contexts:i,level:a,transactionName:s}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),a&&(e.level=a),s&&e.type!=="transaction"&&(e.transaction=s)}function kc(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function Nc(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Lc(e,t){e.contexts={trace:ic(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:mc(t),...e.sdkProcessingMetadata};const r=To(t),n=cr(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function Mc(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Ct,Mo,xt;function $c(e){const t=L._sentryDebugIds;if(!t)return{};const r=Object.keys(t);return xt&&r.length===Mo||(Mo=r.length,xt=r.reduce((n,o)=>{Ct||(Ct={});const i=Ct[o];if(i)n[i[0]]=i[1];else{const a=e(o);for(let s=a.length-1;s>=0;s--){const u=a[s]?.filename,f=t[o];if(u&&f){n[u]=f,Ct[o]=[u,f];break}}}return n},{})),xt}function Uc(e,t,r,n,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||r.event_id||ae(),timestamp:t.timestamp||ct()},u=r.integrations||e.integrations.map(m=>m.name);Bc(c,e),jc(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&qc(c,e.stackParser);const f=Wc(n,r.captureContext);r.mechanism&&Ye(c,r.mechanism);const h=o?o.getEventProcessors():[],v=ks().getScopeData();if(i){const m=i.getScopeData();Lo(v,m)}if(f){const m=f.getScopeData();Lo(v,m)}const l=[...r.attachments||[],...v.attachments];l.length&&(r.attachments=l),Cc(c,v);const _=[...h,...v.eventProcessors];return pr(_,c,r).then(m=>(m&&Hc(m),typeof a=="number"&&a>0?Gc(m,a,s):m))}function Bc(e,t){const{environment:r,release:n,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||r||ur,!e.release&&n&&(e.release=n),!e.dist&&o&&(e.dist=o);const a=e.request;a?.url&&(a.url=Tt(a.url,i))}function qc(e,t){const r=$c(t);e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function Hc(e){const t={};if(e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach(([n,o])=>{r.push({type:"sourcemap",code_file:n,debug_id:o})})}function jc(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Gc(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:_e(o.data,t,r)}}))},...e.user&&{user:_e(e.user,t,r)},...e.contexts&&{contexts:_e(e.contexts,t,r)},...e.extra&&{extra:_e(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=_e(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>({...o,...o.data&&{data:_e(o.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=_e(e.contexts.flags,3,r)),n}function Wc(e,t){if(!t)return e;const r=e?e.clone():new me;return r.update(t),r}function Dd(e){}function Vc(e,t){return Xe().captureException(e,void 0)}function $o(e,t){return Xe().captureEvent(e,t)}function Uo(e){const t=lt(),r=Xe(),{userAgent:n}=L.navigator||{},o=As({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),i=t.getSession();return i?.status==="ok"&&Ke(i,{status:"exited"}),Bo(),t.setSession(o),o}function Bo(){const e=lt(),r=Xe().getSession()||e.getSession();r&&Is(r),qo(),e.setSession()}function qo(){const e=lt(),t=Q(),r=e.getSession();r&&t&&t.captureSession(r)}function Ho(e=!1){if(e){Bo();return}qo()}const zc="7";function Yc(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function Kc(e){return`${Yc(e)}${e.projectId}/envelope/`}function Jc(e,t){const r={sentry_version:zc};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function Xc(e,t,r){return t||`${Kc(e)}?${Jc(e,r)}`}const jo=[];function Qc(e,t){const r={};return t.forEach(n=>{n&&Wo(e,n,r)}),r}function Go(e,t){for(const r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function Wo(e,t,r){if(r[t.name]){D&&O.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,jo.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),jo.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>n(o,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),o=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(o)}D&&O.log(`Integration installed: ${t.name}`)}function Cd(e){return e}function Zc(e,t,r){const n=[{type:"client_report"},{timestamp:ct(),discarded_events:e}];return ft(t?{dsn:t}:{},[n])}function Vo(e){const t=[];e.message&&t.push(e.message);try{const r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}function eu(e){const{trace_id:t,parent_span_id:r,span_id:n,status:o,origin:i,data:a,op:s}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:s,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:a?.[go],exclusive_time:a?.[_o],measurements:e.measurements,is_segment:!0}}function tu(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[go]:e.profile_id},...e.exclusive_time&&{[_o]:e.exclusive_time}}}},measurements:e.measurements}}const zo="Not capturing exception because it's already been captured.",Yo="Discarded session because of missing or non-string release",Ko=Symbol.for("SentryInternalError"),Jo=Symbol.for("SentryDoNotSendEventError");function kt(e){return{message:e,[Ko]:!0}}function hr(e){return{message:e,[Jo]:!0}}function Xo(e){return!!e&&typeof e=="object"&&Ko in e}function Qo(e){return!!e&&typeof e=="object"&&Jo in e}class ru{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=nc(t.dsn):D&&O.warn("No DSN provided, client will not send events."),this._dsn){const r=Xc(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}}captureException(t,r,n){const o=ae();if(co(t))return D&&O.log(zo),o;const i={event_id:o,...r};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(t,r,n,o){const i={event_id:ae(),...n},a=tr(t)?t:String(t),s=rr(t)?this.eventFromMessage(a,r,i):this.eventFromException(t,i);return this._process(s.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,r,n){const o=ae();if(r?.originalException&&co(r.originalException))return D&&O.log(zo),o;const i={event_id:o,...r},a=t.sdkProcessingMetadata||{},s=a.capturedSpanScope,c=a.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,s||n,c)),i.event_id}captureSession(t){this.sendSession(t),Ke(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(o=>n&&o))):He(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];Wo(this,t,this._integrations),r||Go(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=Dc(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=bc(n,Ac(i));const o=this.sendEnvelope(n);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const{release:r,environment:n=ur}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!r){D&&O.warn(Yo);return}i.release=i.release||r,i.environment=i.environment||n,t.attrs=i}else{if(!t.release&&!r){D&&O.warn(Yo);return}t.release=t.release||r,t.environment=t.environment||n}this.emit("beforeSendSession",t);const o=Fc(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,r,n=1){if(this._options.sendClientReports){const o=`${t}:${r}`;D&&O.log(`Recording outcome: "${o}"${n>1?` (${n} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+n}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(o=>o(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(D&&O.error("Error while sending envelope:",r),r)):(D&&O.error("Transport disabled"),He({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Qc(this,t),Go(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",o=!1;const i=r.exception?.values;if(i){o=!0;for(const c of i)if(c.mechanism?.handled===!1){n=!0;break}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(Ke(t,{...n&&{status:"crashed"},errors:t.errors||Number(o||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ie(r=>{let n=0;const o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=o,t&&n>=t&&(clearInterval(i),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,o){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a?.length&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||o.setLastEventId(t.event_id||r.event_id),Uc(i,t,r,n,this,o).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,r),s.contexts={trace:Ls(n),...s.contexts};const c=hc(this,n);return s.sdkProcessingMetadata={dynamicSamplingContext:c,...s.sdkProcessingMetadata},s})}_captureEvent(t,r={},n=Xe(),o=lt()){return D&&mr(t)&&O.log(`Captured error event \`${Vo(t)[0]||"<unknown>"}\``),this._processEvent(t,r,n,o).then(i=>i.event_id,i=>{D&&(Qo(i)?O.log(i.message):Xo(i)?O.warn(i.message):O.warn(i))})}_processEvent(t,r,n,o){const i=this.getOptions(),{sampleRate:a}=i,s=Zo(t),c=mr(t),u=t.type||"error",f=`before send for type \`${u}\``,h=typeof a>"u"?void 0:oc(a);if(c&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error"),Ft(hr(`Discarding event because it's not included in the random sample (sampling rate = ${a})`));const v=u==="replay_event"?"replay":u;return this._prepareEvent(t,r,n,o).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",v),hr("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return l;const S=ou(this,i,l,r);return nu(S,f)}).then(l=>{if(l===null){if(this.recordDroppedEvent("before_send",v),s){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw hr(`${f} returned \`null\`, will not send event.`)}const _=n.getSession()||o.getSession();if(c&&_&&this._updateSessionFromEvent(_,l),s){const m=l.sdkProcessingMetadata?.spanCountBeforeProcessing||0,y=l.spans?l.spans.length:0,g=m-y;g>0&&this.recordDroppedEvent("before_send","span",g)}const S=l.transaction_info;if(s&&S&&l.transaction!==t.transaction){const m="custom";l.transaction_info={...S,source:m}}return this.sendEvent(l,r),l}).then(null,l=>{throw Qo(l)||Xo(l)?l:(this.captureException(l,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:l}),kt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[o,i]=r.split(":");return{reason:o,category:i,quantity:n}})}_flushOutcomes(){D&&O.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){D&&O.log("No outcomes to send");return}if(!this._dsn){D&&O.log("No dsn provided, will not send outcomes");return}D&&O.log("Sending outcomes:",t);const r=Zc(t,this._options.tunnel&&Rt(this._dsn));this.sendEnvelope(r)}}function nu(e,t){const r=`${t} must return \`null\` or a valid event.`;if(It(e))return e.then(n=>{if(!st(n)&&n!==null)throw kt(r);return n},n=>{throw kt(`${t} rejected with ${n}`)});if(!st(e)&&e!==null)throw kt(r);return e}function ou(e,t,r,n){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a,ignoreSpans:s}=t;let c=r;if(mr(c)&&o)return o(c,n);if(Zo(c)){if(a||s){const u=eu(c);if(s?.length&&xo(u,s))return null;if(a){const f=a(u);f?c=ut(r,tu(f)):Oo()}if(c.spans){const f=[],h=c.spans;for(const l of h){if(s?.length&&xo(l,s)){Oc(h,l);continue}if(a){const _=a(l);_?f.push(_):(Oo(),f.push(l))}else f.push(l)}const v=c.spans.length-f.length;v&&e.recordDroppedEvent("before_send","span",v),c.spans=f}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,n)}}return c}function mr(e){return e.type===void 0}function Zo(e){return e.type==="transaction"}function iu(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function au(e,t,r,n){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(o.dsn=Rt(n)),ft(o,[iu(e)])}function yr(e,t){const r=su(e)??[];if(r.length===0)return;const n=e.getOptions(),o=au(r,n._metadata,n.tunnel,e.getDsn());ei().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function su(e){return ei().get(e)}function ei(){return at("clientToLogBufferMap",()=>new WeakMap)}const ti=Symbol.for("SentryBufferFullError");function cu(e){const t=[];function r(){return e===void 0||t.length<e}function n(a){return t.splice(t.indexOf(a),1)[0]||Promise.resolve(void 0)}function o(a){if(!r())return Ft(ti);const s=a();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s}function i(a){return new Ie((s,c)=>{let u=t.length;if(!u)return s(!0);const f=setTimeout(()=>{a&&a>0&&s(!1)},a);t.forEach(h=>{He(h).then(()=>{--u||(clearTimeout(f),s(!0))},c)})})}return{$:t,add:o,drain:i}}const uu=60*1e3;function lu(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?uu:n-t}function fu(e,t){return e[t]||e.all||0}function du(e,t,r=Date.now()){return fu(e,t)>r}function pu(e,{statusCode:t,headers:r},n=Date.now()){const o={...e},i=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(i)for(const s of i.trim().split(",")){const[c,u,,,f]=s.split(":",5),h=parseInt(c,10),v=(isNaN(h)?60:h)*1e3;if(!u)o.all=n+v;else for(const l of u.split(";"))l==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(o[l]=n+v):o[l]=n+v}else a?o.all=n+lu(a,n):t===429&&(o.all=n+60*1e3);return o}const hu=64;function mu(e,t,r=cu(e.bufferSize||hu)){let n={};const o=a=>r.drain(a);function i(a){const s=[];if(Fo(a,(h,v)=>{const l=Do(v);du(n,l)?e.recordDroppedEvent("ratelimit_backoff",l):s.push(h)}),s.length===0)return He({});const c=ft(a[0],s),u=h=>{Fo(c,(v,l)=>{e.recordDroppedEvent(h,Do(l))})},f=()=>t({body:Sc(c)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&D&&O.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=pu(n,h),h),h=>{throw u("network_error"),D&&O.error("Encountered error running transport request:",h),h});return r.add(f).then(h=>h,h=>{if(h===ti)return D&&O.error("Skipped sending event because buffer is full."),u("queue_overflow"),He({});throw h})}return{send:i,flush:o}}function gr(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function yu(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function gu(e,t,r=[t],n="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(i=>({name:`${n}:@sentry/${i}`,version:Le})),version:Le}),e._metadata=o}const _u=100;function je(e,t){const r=Q(),n=lt();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=_u}=r.getOptions();if(i<=0)return;const s={timestamp:ct(),...e},c=o?bt(()=>o(s,t)):s;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,i))}let ri;const vu="FunctionToString",ni=new WeakMap,Eu=()=>({name:vu,setupOnce(){ri=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=or(this),r=ni.has(Q())&&t!==void 0?t:this;return ri.apply(r,e)}}catch{}},setup(e){ni.set(e,!0)}}),bu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Su="EventFilters",wu=(e={})=>{let t;return{name:Su,setup(r){const n=r.getOptions();t=oi(e,n)},processEvent(r,n,o){if(!t){const i=o.getOptions();t=oi(e,i)}return Iu(r,t)?null:r}}},Au=(e={})=>({...wu(e),name:"InboundFilters"});function oi(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:bu],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Iu(e,t){if(e.type){if(e.type==="transaction"&&Ou(e,t.ignoreTransactions))return D&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${qe(e)}`),!0}else{if(Tu(e,t.ignoreErrors))return D&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${qe(e)}`),!0;if(Du(e))return D&&O.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${qe(e)}`),!0;if(Pu(e,t.denyUrls))return D&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${qe(e)}.
Url: ${Nt(e)}`),!0;if(!Ru(e,t.allowUrls))return D&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${qe(e)}.
Url: ${Nt(e)}`),!0}return!1}function Tu(e,t){return t?.length?Vo(e).some(r=>Pt(r,t)):!1}function Ou(e,t){if(!t?.length)return!1;const r=e.transaction;return r?Pt(r,t):!1}function Pu(e,t){if(!t?.length)return!1;const r=Nt(e);return r?Pt(r,t):!1}function Ru(e,t){if(!t?.length)return!0;const r=Nt(e);return r?Pt(r,t):!0}function Fu(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Nt(e){try{const r=[...e.exception?.values??[]].reverse().find(n=>n.mechanism?.parent_id===void 0&&n.stacktrace?.frames?.length)?.stacktrace?.frames;return r?Fu(r):null}catch{return D&&O.error(`Cannot extract url for event ${qe(e)}`),null}}function Du(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Cu(e,t,r,n,o,i){if(!o.exception?.values||!i||!Ae(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=_r(e,t,n,i.originalException,r,o.exception.values,a,0))}function _r(e,t,r,n,o,i,a,s){if(i.length>=r+1)return i;let c=[...i];if(Ae(n[o],Error)){ii(a,s);const u=e(t,n[o]),f=c.length;ai(u,o,f,s),c=_r(e,t,r,n[o],o,[u,...c],u,f)}return Array.isArray(n.errors)&&n.errors.forEach((u,f)=>{if(Ae(u,Error)){ii(a,s);const h=e(t,u),v=c.length;ai(h,`errors[${f}]`,v,s),c=_r(e,t,r,u,o,[h,...c],h,v)}}),c}function ii(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ai(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function xu(e){const t="console";$e(t,e),Ue(t,ku)}function ku(){"console"in L&&Za.forEach(function(e){e in L.console&&re(L.console,e,function(t){return Et[e]=t,function(...r){fe("console",{args:r,level:e}),Et[e]?.apply(L.console,r)}})})}function Nu(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Lu="Dedupe",Mu=()=>{let e;return{name:Lu,processEvent(t){if(t.type)return t;try{if($u(t,e))return D&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function $u(e,t){return t?!!(Uu(e,t)||Bu(e,t)):!1}function Uu(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!ci(e,t)||!si(e,t))}function Bu(e,t){const r=ui(t),n=ui(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!ci(e,t)||!si(e,t))}function si(e,t){let r=Yn(e),n=Yn(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){const i=n[o],a=r[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function ci(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function ui(e){return e.exception?.values?.[0]}function li(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const dt=L;function qu(){return"history"in dt&&!!dt.history}function Hu(){if(!("fetch"in dt))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function vr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ju(){if(typeof EdgeRuntime=="string")return!0;if(!Hu())return!1;if(vr(dt.fetch))return!0;let e=!1;const t=dt.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=vr(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){D&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Gu(e,t){const r="fetch";$e(r,e),Ue(r,()=>Wu(void 0,t))}function Wu(e,t=!1){t&&!ju()||re(L,"fetch",function(r){return function(...n){const o=new Error,{method:i,url:a}=Vu(n),s={args:n,fetchData:{method:i,url:a},startTimestamp:ge()*1e3,virtualError:o,headers:zu(n)};return fe("fetch",{...s}),r.apply(L,n).then(async c=>(fe("fetch",{...s,endTimestamp:ge()*1e3,response:c}),c),c=>{if(fe("fetch",{...s,endTimestamp:ge()*1e3,error:c}),er(c)&&c.stack===void 0&&(c.stack=o.stack,Be(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(s.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}function Er(e,t){return!!e&&typeof e=="object"&&!!e[t]}function fi(e){return typeof e=="string"?e:e?Er(e,"url")?e.url:e.toString?e.toString():"":""}function Vu(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:fi(r),method:Er(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:fi(t),method:Er(t,"method")?String(t.method).toUpperCase():"GET"}}function zu(e){const[t,r]=e;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(ys(t))return new Headers(t.headers)}catch{}}function Yu(){return"npm"}const V=L;let br=0;function di(){return br>0}function Ku(){br++,setTimeout(()=>{br--})}function Qe(e,t={}){function r(o){return typeof o=="function"}if(!r(e))return e;try{const o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(or(e))return e}catch{return e}const n=function(...o){try{const i=o.map(a=>Qe(a,t));return e.apply(this,i)}catch(i){throw Ku(),Ns(a=>{a.addEventProcessor(s=>(t.mechanism&&(ir(s,void 0),Ye(s,t.mechanism)),s.extra={...s.extra,arguments:o},s)),Vc(i)}),i}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch{}no(n,e),Be(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function Ju(){const e=to(),{referrer:t}=V.document||{},{userAgent:r}=V.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}function Sr(e,t){const r=Ar(e,t),n={type:tl(t),value:rl(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Xu(e,t,r,n){const i=Q()?.getOptions().normalizeDepth,a=sl(t),s={__serialized__:Ro(t,i)};if(a)return{exception:{values:[Sr(e,a)]},extra:s};const c={exception:{values:[{type:At(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:il(t,{isUnhandledRejection:n})}]},extra:s};if(r){const u=Ar(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function wr(e,t){return{exception:{values:[Sr(e,t)]}}}function Ar(e,t){const r=t.stacktrace||t.stack||"",n=Zu(t),o=el(t);try{return e(r,n,o)}catch{}return[]}const Qu=/Minified React error #\d+;/i;function Zu(e){return e&&Qu.test(e.message)?1:0}function el(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function pi(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function tl(e){const t=e?.name;return!t&&pi(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function rl(e){const t=e?.message;return pi(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function nl(e,t,r,n){const o=r?.syntheticException||void 0,i=Ir(e,t,o,n);return Ye(i),i.level="error",r?.event_id&&(i.event_id=r.event_id),He(i)}function ol(e,t,r="info",n,o){const i=n?.syntheticException||void 0,a=Tr(e,t,i,o);return a.level=r,n?.event_id&&(a.event_id=n.event_id),He(a)}function Ir(e,t,r,n,o){let i;if(Xn(t)&&t.error)return wr(e,t.error);if(Qn(t)||ds(t)){const a=t;if("stack"in t)i=wr(e,t);else{const s=a.name||(Qn(a)?"DOMError":"DOMException"),c=a.message?`${s}: ${a.message}`:s;i=Tr(e,c,r,n),ir(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return er(t)?wr(e,t):st(t)||At(t)?(i=Xu(e,t,r,o),Ye(i,{synthetic:!0}),i):(i=Tr(e,t,r,n),ir(i,`${t}`),Ye(i,{synthetic:!0}),i)}function Tr(e,t,r,n){const o={};if(n&&r){const i=Ar(e,r);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ye(o,{synthetic:!0})}if(tr(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return o.logentry={message:i,params:a},o}return o.message=t,o}function il(e,{isUnhandledRejection:t}){const r=Es(e),n=t?"promise rejection":"exception";return Xn(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:At(e)?`Event \`${al(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function al(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function sl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}const cl=5e3;class ul extends ru{constructor(t){const r=ll(t),n=V.SENTRY_SDK_SOURCE||Yu();gu(r,"browser",["browser"],n),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:i,enableLogs:a}=this._options;V.document&&(i||a)&&V.document.addEventListener("visibilitychange",()=>{V.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&yr(this))}),a&&(this.on("flush",()=>{yr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yr(this)},cl)})),o&&this.on("beforeSendSession",yu)}eventFromException(t,r){return nl(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return ol(this._options.stackParser,t,r,n,this._options.attachStacktrace)}_prepareEvent(t,r,n,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n,o)}}function ll(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:V.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const fl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Z=L,dl=1e3;let hi,Or,Pr;function pl(e){const t="dom";$e(t,e),Ue(t,hl)}function hl(){if(!Z.document)return;const e=fe.bind(null,"dom"),t=mi(e,!0);Z.document.addEventListener("click",t,!1),Z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const o=Z[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(re(o,"addEventListener",function(i){return function(a,s,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=u[a]=u[a]||{refCount:0};if(!f.handler){const h=mi(e);f.handler=h,i.call(this,a,h,c)}f.refCount++}catch{}return i.call(this,a,s,c)}}),re(o,"removeEventListener",function(i){return function(a,s,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},f=u[a];f&&(f.refCount--,f.refCount<=0&&(i.call(this,a,f.handler,c),f.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,s,c)}}))})}function ml(e){if(e.type!==Or)return!1;try{if(!e.target||e.target._sentryId!==Pr)return!1}catch{}return!0}function yl(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function mi(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=gl(r);if(yl(r.type,n))return;Be(r,"_sentryCaptured",!0),n&&!n._sentryId&&Be(n,"_sentryId",ae());const o=r.type==="keypress"?"input":r.type;ml(r)||(e({event:r,name:o,global:t}),Or=r.type,Pr=n?n._sentryId:void 0),clearTimeout(hi),hi=Z.setTimeout(()=>{Pr=void 0,Or=void 0},dl)}}function gl(e){try{return e.target}catch{return null}}let Lt;function yi(e){const t="history";$e(t,e),Ue(t,_l)}function _l(){if(Z.addEventListener("popstate",()=>{const t=Z.location.href,r=Lt;if(Lt=t,r===t)return;fe("history",{from:r,to:t})}),!qu())return;function e(t){return function(...r){const n=r.length>2?r[2]:void 0;if(n){const o=Lt,i=vl(String(n));if(Lt=i,o===i)return t.apply(this,r);fe("history",{from:o,to:i})}return t.apply(this,r)}}re(Z.history,"pushState",e),re(Z.history,"replaceState",e)}function vl(e){try{return new URL(e,Z.location.origin).toString()}catch{return e}}const Mt={};function El(e){const t=Mt[e];if(t)return t;let r=Z[e];if(vr(r))return Mt[e]=r.bind(Z);const n=Z.document;if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const i=o.contentWindow;i?.[e]&&(r=i[e]),n.head.removeChild(o)}catch(o){fl&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return r&&(Mt[e]=r.bind(Z))}function gi(e){Mt[e]=void 0}const pt="__sentry_xhr_v3__";function bl(e){const t="xhr";$e(t,e),Ue(t,Sl)}function Sl(){if(!Z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const o=new Error,i=ge()*1e3,a=ye(n[0])?n[0].toUpperCase():void 0,s=wl(n[1]);if(!a||!s)return t.apply(r,n);r[pt]={method:a,url:s,request_headers:{}},a==="POST"&&s.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[pt];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}const f={endTimestamp:ge()*1e3,startTimestamp:i,xhr:r,virtualError:o};fe("xhr",f)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(u,f,h){return c(),u.apply(f,h)}}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,f,h){const[v,l]=h,_=f[pt];return _&&ye(v)&&ye(l)&&(_.request_headers[v.toLowerCase()]=l),u.apply(f,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const o=r[pt];if(!o)return t.apply(r,n);n[0]!==void 0&&(o.body=n[0]);const i={startTimestamp:ge()*1e3,xhr:r};return fe("xhr",i),t.apply(r,n)}})}function wl(e){if(ye(e))return e;try{return e.toString()}catch{}}function Al(e,t=El("fetch")){let r=0,n=0;function o(i){const a=i.body.length;r+=a,n++;const s={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return gi("fetch"),Ft("No fetch implementation available");try{return t(e.url,s).then(c=>(r-=a,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return gi("fetch"),r-=a,n--,Ft(c)}}return mu(e,o)}const Il=30,Tl=50;function Rr(e,t,r,n){const o={filename:e,function:t==="<anonymous>"?Me:t,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}const Ol=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Pl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Rl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fl=/at (.+?) ?\(data:(.+?),/,Dl=[Il,e=>{const t=e.match(Fl);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const r=Ol.exec(e);if(r){const[,o,i,a]=r;return Rr(o,Me,+i,+a)}const n=Pl.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=Rl.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,a]=_i(n[1]||Me,n[2]);return Rr(a,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],Cl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kl=as(...[Dl,[Tl,e=>{const t=Cl.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=xl.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],o=t[1]||Me;return[o,n]=_i(o,n),Rr(n,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),_i=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Me,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Fr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$t=1024,Nl="Breadcrumbs",Ll=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Nl,setup(r){t.console&&xu(Ul(r)),t.dom&&pl($l(r,t.dom)),t.xhr&&bl(Bl(r)),t.fetch&&Gu(ql(r)),t.history&&yi(Hl(r)),t.sentry&&r.on("beforeSendEvent",Ml(r))}}};function Ml(e){return function(r){Q()===e&&je({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:qe(r)},{event:r})}}function $l(e,t){return function(n){if(Q()!==e)return;let o,i,a=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>$t&&(Fr&&O.warn(`\`dom.maxStringLength\` cannot exceed ${$t}, but a value of ${s} was configured. Sentry will use ${$t} instead.`),s=$t),typeof a=="string"&&(a=[a]);try{const u=n.event,f=jl(u)?u.target:u;o=eo(f,{keyAttrs:a,maxStringLength:s}),i=vs(f)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${n.name}`,message:o};i&&(c.data={"ui.component_name":i}),je(c,{event:n.event,name:n.name,global:n.global})}}function Ul(e){return function(r){if(Q()!==e)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:Nu(r.level),message:ro(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${ro(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;je(n,{input:r.args,level:r.level})}}function Bl(e){return function(r){if(Q()!==e)return;const{startTimestamp:n,endTimestamp:o}=r,i=r.xhr[pt];if(!n||!o||!i)return;const{method:a,url:s,status_code:c,body:u}=i,f={method:a,url:s,status_code:c},h={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:o},v={category:"xhr",data:f,type:"http",level:li(c)};e.emit("beforeOutgoingRequestBreadcrumb",v,h),je(v,h)}}function ql(e){return function(r){if(Q()!==e)return;const{startTimestamp:n,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const i=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:o},s={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,a),je(s,a)}else{const i=r.response,a={...r.fetchData,status_code:i?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,i?.status;const s={input:r.args,response:i,startTimestamp:n,endTimestamp:o},c={category:"fetch",data:a,type:"http",level:li(a.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,s),je(c,s)}}}function Hl(e){return function(r){if(Q()!==e)return;let n=r.from,o=r.to;const i=gr(V.location.href);let a=n?gr(n):void 0;const s=gr(o);a?.path||(a=i),i.protocol===s.protocol&&i.host===s.host&&(o=s.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),je({category:"navigation",data:{from:n,to:o}})}}function jl(e){return!!e&&!!e.target}const Gl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Wl="BrowserApiErrors",Vl=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Wl,setupOnce(){t.setTimeout&&re(V,"setTimeout",vi),t.setInterval&&re(V,"setInterval",vi),t.requestAnimationFrame&&re(V,"requestAnimationFrame",zl),t.XMLHttpRequest&&"XMLHttpRequest"in V&&re(XMLHttpRequest.prototype,"send",Yl);const r=t.eventTarget;r&&(Array.isArray(r)?r:Gl).forEach(o=>Kl(o,t))}}};function vi(e){return function(...t){const r=t[0];return t[0]=Qe(r,{mechanism:{data:{function:we(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function zl(e){return function(t){return e.apply(this,[Qe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:we(e)},handled:!1,type:"instrument"}})])}}function Yl(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&re(r,o,function(i){const a={mechanism:{data:{function:o,handler:we(i)},handled:!1,type:"instrument"}},s=or(i);return s&&(a.mechanism.data.handler=we(s)),Qe(i,a)})}),e.apply(this,t)}}function Kl(e,t){const n=V[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(re(n,"addEventListener",function(o){return function(i,a,s){try{Jl(a)&&(a.handleEvent=Qe(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:we(a),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Xl(this,i,a),o.apply(this,[i,Qe(a,{mechanism:{data:{function:"addEventListener",handler:we(a),target:e},handled:!1,type:"instrument"}}),s])}}),re(n,"removeEventListener",function(o){return function(i,a,s){try{const c=a.__sentry_wrapped__;c&&o.call(this,i,c,s)}catch{}return o.call(this,i,a,s)}}))}function Jl(e){return typeof e.handleEvent=="function"}function Xl(e,t,r){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,r)}const Ql=()=>({name:"BrowserSession",setupOnce(){if(typeof V.document>"u"){Fr&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Uo({ignoreDuration:!0}),Ho(),yi(({from:e,to:t})=>{e!==void 0&&e!==t&&(Uo({ignoreDuration:!0}),Ho())})}}),Zl="GlobalHandlers",ef=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Zl,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(tf(r),Ei("onerror")),t.onunhandledrejection&&(rf(r),Ei("onunhandledrejection"))}}};function tf(e){cs(t=>{const{stackParser:r,attachStacktrace:n}=bi();if(Q()!==e||di())return;const{msg:o,url:i,line:a,column:s,error:c}=t,u=af(Ir(r,c||o,void 0,n,!1),i,a,s);u.level="error",$o(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function rf(e){ls(t=>{const{stackParser:r,attachStacktrace:n}=bi();if(Q()!==e||di())return;const o=nf(t),i=rr(o)?of(o):Ir(r,o,void 0,n,!0);i.level="error",$o(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function nf(e){if(rr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function of(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function af(e,t,r,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=n,f=r,h=sf(t)??to();return c.length===0&&c.push({colno:u,filename:h,function:Me,in_app:!0,lineno:f}),e}function Ei(e){Fr&&O.log(`Global Handler attached: ${e}`)}function bi(){return Q()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function sf(e){if(!(!ye(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),r=t?t[1]:"text/javascript",n=e.includes("base64,");return`<data:${r}${n?",base64":""}>`}return e.slice(0,1024)}}const cf=()=>({name:"HttpContext",preprocessEvent(e){if(!V.navigator&&!V.location&&!V.document)return;const t=Ju(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}}),uf="cause",lf=5,ff="LinkedErrors",df=(e={})=>{const t=e.limit||lf,r=e.key||uf;return{name:ff,preprocessEvent(n,o,i){const a=i.getOptions();Cu(Sr,a.stackParser,r,t,n,o)}}};function pf(e){return[Au(),Eu(),Vl(),Ll(),ef(),df(),Mu(),cf(),Ql()]}const Si=document.currentScript?.src||(typeof document>"u"?require("url").pathToFileURL(__filename).href:Wt&&Wt.tagName.toUpperCase()==="SCRIPT"&&Wt.src||new URL("cjs/concierge.js",document.baseURI).href),wi={domain:(()=>{if(!Si)return"chilipiper.io";const t=new URL(Si).hostname,r=t.split("."),n=r.length>2?r.slice(-2).join("."):t;return n.startsWith("chilipiper.")?n:(console.warn("Could not find CP domain in snippet URL. Be aware that this warning means snippet is loaded from a different domain and may not work as expected."),"chilipiper.com")})()},Ai=new ul({dsn:"https://5acd77a479f023b04380ea323d3b0764@o94797.ingest.us.sentry.io/4508245583921152",tunnel:"https://tracking.chilipiper.io/sentry/tunnel",release:"280e8f8617d73d1f8a62419214b09f4f93250bfd",environment:wi.domain,integrations:pf().filter(e=>!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(e.name)),transport:Al,stackParser:kl,beforeSend(e){const t=e.exception?.values?.flatMap(r=>r.stacktrace?.frames??[]);return!t?.length||!t.every(r=>r.filename?.includes("/concierge-js/cjs/concierge.js")||r.filename?.includes("/concierge-js/concierge.js"))?null:(console.log(e),e)}}),Dr=new me;Dr.setClient(Ai),Ai.init();const hf=Dr.captureException.bind(Dr);class Ii{constructor(t,r){this.setCPPopUp=n=>{this.CPPopUp=n},this.setForm=n=>{this.form=n,this.controlEmailField(),this.hideEnrichmentFields()},this.initPrelaunch=({fieldsToEnrich:n=[],emailField:o})=>{this.emailFieldName=o,this.fieldNamesToEnrich=n,this.controlEmailField(),this.hideEnrichmentFields()},this.controlEmailField=()=>{if(this.emailFieldName&&this.form&&(this.emailField=this.form.querySelector(`input[name="${this.emailFieldName}"]`),this.emailField)){const n=()=>{const o={type:"PERFORM_PRELAUNCH",data:this.emailField?.value};this.CPPopUp?.iframe?this.CPPopUp.iframe.contentWindow?.postMessage(o,"*"):window.self!==window.top&&window.top?.postMessage(o,"*")};this.emailField.onblur=n}},this.hideEnrichmentFields=()=>{if(this.form&&this.fieldNamesToEnrich?.length){const n=this.fieldNamesToEnrich.reduce((o,i)=>`${o?`${o}, `:""}label[for*="${i}"], input[id="${i}"], input[name="${i}"], select[id="${i}"], select[name="${i}"]`,"");this.fieldElementsToEnrich=this.form.querySelectorAll(n),this.fieldElementsToEnrich?.forEach(o=>{if(this.enrichmentParentSelector){const i=o.closest(this.enrichmentParentSelector);i&&(i.style.display="none")}o.style.display="none","value"in o&&(o.value="")})}},this.onEnrichData=({enrichedFields:n,routingId:o})=>{this.routingId=o,this.fieldElementsToEnrich?.forEach(i=>{const a=(()=>{if("name"in i&&typeof i.name=="string")return n[i.name];if(i.hasAttribute("for")){const s=Object.keys(n).find(c=>i.getAttribute("for")?.includes(c));return s?n[s]:void 0}return n[i.id]})();if("value"in i&&(i.value=a||"",i.setAttribute("data-enriched","true")),i.hasAttribute("required")&&(i.setAttribute("data-required","true"),i.removeAttribute("required")),a){if(this.enrichmentParentSelector){const s=i.closest(this.enrichmentParentSelector);s&&(s.style.display="none")}i.style.display="none",i.hasAttribute("required")&&(i.setAttribute("data-required","true"),i.removeAttribute("required"))}else{if(this.enrichmentParentSelector){const s=i.closest(this.enrichmentParentSelector);s&&(s.style.display="")}i.style.display="",i.hasAttribute("data-required")&&(i.setAttribute("required","true"),i.removeAttribute("data-required")),i.hasAttribute("data-enriched")&&i.removeAttribute("data-enriched")}})},this.onMessage=n=>{n.data.action==="init-prelaunch"?this.initPrelaunch(n.data.args):n.data.action==="prelaunch-succeeded"&&this.onEnrichData(n.data.args)},this.addPrelaunchListeners=()=>{window.addEventListener("message",this.onMessage,!1)},this.removeEventListeners=()=>{window.removeEventListener("message",this.onMessage)},this.setForm(t),this.setCPPopUp(r),this.addPrelaunchListeners()}}function mf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Cr,Ti;function Ze(){return Ti||(Ti=1,Cr=TypeError),Cr}const yf=mf(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var xr,Oi;function Ut(){if(Oi)return xr;Oi=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=o&&i&&typeof i.get=="function"?i.get:null,s=o&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,u=c?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,h=f?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,l=v?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,S=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,E=String.prototype.toUpperCase,w=String.prototype.toLowerCase,A=RegExp.prototype.test,I=Array.prototype.concat,P=Array.prototype.join,N=Array.prototype.slice,R=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,H=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===H||!0)?Symbol.toStringTag:null,ve=Object.prototype.propertyIsEnumerable,Ee=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(d){return d.__proto__}:null);function C(d,p){if(d===1/0||d===-1/0||d!==d||d&&d>-1e3&&d<1e3||A.call(/e/,p))return p;var k=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof d=="number"){var U=d<0?-R(-d):R(d);if(U!==d){var B=String(U),F=g.call(p,B.length+1);return b.call(B,k,"$&_")+"."+b.call(b.call(F,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(p,k,"$&_")}var oe=yf,be=oe.custom,Ge=K(be)?be:null,Te={__proto__:null,double:'"',single:"'"},Oe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};xr=function d(p,k,U,B){var F=k||{};if(te(F,"quoteStyle")&&!te(Te,F.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(te(F,"maxStringLength")&&(typeof F.maxStringLength=="number"?F.maxStringLength<0&&F.maxStringLength!==1/0:F.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ce=te(F,"customInspect")?F.customInspect:!0;if(typeof Ce!="boolean"&&Ce!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(te(F,"indent")&&F.indent!==null&&F.indent!=="	"&&!(parseInt(F.indent,10)===F.indent&&F.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(te(F,"numericSeparator")&&typeof F.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var We=F.numericSeparator;if(typeof p>"u")return"undefined";if(p===null)return"null";if(typeof p=="boolean")return p?"true":"false";if(typeof p=="string")return Ca(p,F);if(typeof p=="number"){if(p===0)return 1/0/p>0?"0":"-0";var ie=String(p);return We?C(p,ie):ie}if(typeof p=="bigint"){var xe=String(p)+"n";return We?C(p,xe):xe}var kn=typeof F.depth>"u"?5:F.depth;if(typeof U>"u"&&(U=0),U>=kn&&kn>0&&typeof p=="object")return Re(p)?"[Array]":"[Object]";var ot=Pd(F,U);if(typeof B>"u")B=[];else if(De(B,p)>=0)return"[Circular]";function pe(it,Gt,Fd){if(Gt&&(B=N.call(B),B.push(Gt)),Fd){var qa={depth:F.depth};return te(F,"quoteStyle")&&(qa.quoteStyle=F.quoteStyle),d(it,qa,U+1,B)}return d(it,F,U+1,B)}if(typeof p=="function"&&!z(p)){var ka=et(p),Na=Ht(p,pe);return"[Function"+(ka?": "+ka:" (anonymous)")+"]"+(Na.length>0?" { "+P.call(Na,", ")+" }":"")}if(K(p)){var La=H?b.call(String(p),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y.call(p);return typeof p=="object"&&!H?mt(La):La}if(Id(p)){for(var yt="<"+w.call(String(p.nodeName)),Nn=p.attributes||[],jt=0;jt<Nn.length;jt++)yt+=" "+Nn[jt].name+"="+Pe(Se(Nn[jt].value),"double",F);return yt+=">",p.childNodes&&p.childNodes.length&&(yt+="..."),yt+="</"+w.call(String(p.nodeName))+">",yt}if(Re(p)){if(p.length===0)return"[]";var Ln=Ht(p,pe);return ot&&!Od(Ln)?"["+xn(Ln,ot)+"]":"[ "+P.call(Ln,", ")+" ]"}if(x(p)){var Mn=Ht(p,pe);return!("cause"in Error.prototype)&&"cause"in p&&!ve.call(p,"cause")?"{ ["+String(p)+"] "+P.call(I.call("[cause]: "+pe(p.cause),Mn),", ")+" }":Mn.length===0?"["+String(p)+"]":"{ ["+String(p)+"] "+P.call(Mn,", ")+" }"}if(typeof p=="object"&&Ce){if(Ge&&typeof p[Ge]=="function"&&oe)return oe(p,{depth:kn-U});if(Ce!=="symbol"&&typeof p.inspect=="function")return p.inspect()}if(de(p)){var Ma=[];return n&&n.call(p,function(it,Gt){Ma.push(pe(Gt,p,!0)+" => "+pe(it,p))}),xa("Map",r.call(p),Ma,ot)}if(nt(p)){var $a=[];return s&&s.call(p,function(it){$a.push(pe(it,p))}),xa("Set",a.call(p),$a,ot)}if(tt(p))return Cn("WeakMap");if(Ad(p))return Cn("WeakSet");if(rt(p))return Cn("WeakRef");if($(p))return mt(pe(Number(p)));if(ue(p))return mt(pe(M.call(p)));if(G(p))return mt(_.call(p));if(q(p))return mt(pe(String(p)));if(typeof window<"u"&&p===window)return"{ [object Window] }";if(typeof globalThis<"u"&&p===globalThis||typeof globalThis<"u"&&p===globalThis)return"{ [object globalThis] }";if(!Fe(p)&&!z(p)){var $n=Ht(p,pe),Ua=Ee?Ee(p)===Object.prototype:p instanceof Object||p.constructor===Object,Un=p instanceof Object?"":"null prototype",Ba=!Ua&&ne&&Object(p)===p&&ne in p?g.call(le(p),8,-1):Un?"Object":"",Rd=Ua||typeof p.constructor!="function"?"":p.constructor.name?p.constructor.name+" ":"",Bn=Rd+(Ba||Un?"["+P.call(I.call([],Ba||[],Un||[]),": ")+"] ":"");return $n.length===0?Bn+"{}":ot?Bn+"{"+xn($n,ot)+"}":Bn+"{ "+P.call($n,", ")+" }"}return String(p)};function Pe(d,p,k){var U=k.quoteStyle||p,B=Te[U];return B+d+B}function Se(d){return b.call(String(d),/"/g,"&quot;")}function ce(d){return!ne||!(typeof d=="object"&&(ne in d||typeof d[ne]<"u"))}function Re(d){return le(d)==="[object Array]"&&ce(d)}function Fe(d){return le(d)==="[object Date]"&&ce(d)}function z(d){return le(d)==="[object RegExp]"&&ce(d)}function x(d){return le(d)==="[object Error]"&&ce(d)}function q(d){return le(d)==="[object String]"&&ce(d)}function $(d){return le(d)==="[object Number]"&&ce(d)}function G(d){return le(d)==="[object Boolean]"&&ce(d)}function K(d){if(H)return d&&typeof d=="object"&&d instanceof Symbol;if(typeof d=="symbol")return!0;if(!d||typeof d!="object"||!Y)return!1;try{return Y.call(d),!0}catch{}return!1}function ue(d){if(!d||typeof d!="object"||!M)return!1;try{return M.call(d),!0}catch{}return!1}var J=Object.prototype.hasOwnProperty||function(d){return d in this};function te(d,p){return J.call(d,p)}function le(d){return S.call(d)}function et(d){if(d.name)return d.name;var p=y.call(m.call(d),/^function\s*([\w$]+)/);return p?p[1]:null}function De(d,p){if(d.indexOf)return d.indexOf(p);for(var k=0,U=d.length;k<U;k++)if(d[k]===p)return k;return-1}function de(d){if(!r||!d||typeof d!="object")return!1;try{r.call(d);try{a.call(d)}catch{return!0}return d instanceof Map}catch{}return!1}function tt(d){if(!u||!d||typeof d!="object")return!1;try{u.call(d,u);try{h.call(d,h)}catch{return!0}return d instanceof WeakMap}catch{}return!1}function rt(d){if(!l||!d||typeof d!="object")return!1;try{return l.call(d),!0}catch{}return!1}function nt(d){if(!a||!d||typeof d!="object")return!1;try{a.call(d);try{r.call(d)}catch{return!0}return d instanceof Set}catch{}return!1}function Ad(d){if(!h||!d||typeof d!="object")return!1;try{h.call(d,h);try{u.call(d,u)}catch{return!0}return d instanceof WeakSet}catch{}return!1}function Id(d){return!d||typeof d!="object"?!1:typeof HTMLElement<"u"&&d instanceof HTMLElement?!0:typeof d.nodeName=="string"&&typeof d.getAttribute=="function"}function Ca(d,p){if(d.length>p.maxStringLength){var k=d.length-p.maxStringLength,U="... "+k+" more character"+(k>1?"s":"");return Ca(g.call(d,0,p.maxStringLength),p)+U}var B=Oe[p.quoteStyle||"single"];B.lastIndex=0;var F=b.call(b.call(d,B,"\\$1"),/[\x00-\x1f]/g,Td);return Pe(F,"single",p)}function Td(d){var p=d.charCodeAt(0),k={8:"b",9:"t",10:"n",12:"f",13:"r"}[p];return k?"\\"+k:"\\x"+(p<16?"0":"")+E.call(p.toString(16))}function mt(d){return"Object("+d+")"}function Cn(d){return d+" { ? }"}function xa(d,p,k,U){var B=U?xn(k,U):P.call(k,", ");return d+" ("+p+") {"+B+"}"}function Od(d){for(var p=0;p<d.length;p++)if(De(d[p],`
`)>=0)return!1;return!0}function Pd(d,p){var k;if(d.indent==="	")k="	";else if(typeof d.indent=="number"&&d.indent>0)k=P.call(Array(d.indent+1)," ");else return null;return{base:k,prev:P.call(Array(p+1),k)}}function xn(d,p){if(d.length===0)return"";var k=`
`+p.prev+p.base;return k+P.call(d,","+k)+`
`+p.prev}function Ht(d,p){var k=Re(d),U=[];if(k){U.length=d.length;for(var B=0;B<d.length;B++)U[B]=te(d,B)?p(d[B],d):""}var F=typeof T=="function"?T(d):[],Ce;if(H){Ce={};for(var We=0;We<F.length;We++)Ce["$"+F[We]]=F[We]}for(var ie in d)te(d,ie)&&(k&&String(Number(ie))===ie&&ie<d.length||H&&Ce["$"+ie]instanceof Symbol||(A.call(/[^\w$]/,ie)?U.push(p(ie,d)+": "+p(d[ie],d)):U.push(ie+": "+p(d[ie],d))));if(typeof T=="function")for(var xe=0;xe<F.length;xe++)ve.call(d,F[xe])&&U.push("["+p(F[xe])+"]: "+p(d[F[xe]],d));return U}return xr}var kr,Pi;function gf(){if(Pi)return kr;Pi=1;var e=Ut(),t=Ze(),r=function(s,c,u){for(var f=s,h;(h=f.next)!=null;f=h)if(h.key===c)return f.next=h.next,u||(h.next=s.next,s.next=h),h},n=function(s,c){if(s){var u=r(s,c);return u&&u.value}},o=function(s,c,u){var f=r(s,c);f?f.value=u:s.next={key:c,next:s.next,value:u}},i=function(s,c){return s?!!r(s,c):!1},a=function(s,c){if(s)return r(s,c,!0)};return kr=function(){var c,u={assert:function(f){if(!u.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){var h=c&&c.next,v=a(c,f);return v&&h&&h===v&&(c=void 0),!!v},get:function(f){return n(c,f)},has:function(f){return i(c,f)},set:function(f,h){c||(c={next:void 0}),o(c,f,h)}};return u},kr}var Nr,Ri;function Fi(){return Ri||(Ri=1,Nr=Object),Nr}var Lr,Di;function _f(){return Di||(Di=1,Lr=Error),Lr}var Mr,Ci;function vf(){return Ci||(Ci=1,Mr=EvalError),Mr}var $r,xi;function Ef(){return xi||(xi=1,$r=RangeError),$r}var Ur,ki;function bf(){return ki||(ki=1,Ur=ReferenceError),Ur}var Br,Ni;function Sf(){return Ni||(Ni=1,Br=SyntaxError),Br}var qr,Li;function wf(){return Li||(Li=1,qr=URIError),qr}var Hr,Mi;function Af(){return Mi||(Mi=1,Hr=Math.abs),Hr}var jr,$i;function If(){return $i||($i=1,jr=Math.floor),jr}var Gr,Ui;function Tf(){return Ui||(Ui=1,Gr=Math.max),Gr}var Wr,Bi;function Of(){return Bi||(Bi=1,Wr=Math.min),Wr}var Vr,qi;function Pf(){return qi||(qi=1,Vr=Math.pow),Vr}var zr,Hi;function Rf(){return Hi||(Hi=1,zr=Math.round),zr}var Yr,ji;function Ff(){return ji||(ji=1,Yr=Number.isNaN||function(t){return t!==t}),Yr}var Kr,Gi;function Df(){if(Gi)return Kr;Gi=1;var e=Ff();return Kr=function(r){return e(r)||r===0?r:r<0?-1:1},Kr}var Jr,Wi;function Cf(){return Wi||(Wi=1,Jr=Object.getOwnPropertyDescriptor),Jr}var Xr,Vi;function zi(){if(Vi)return Xr;Vi=1;var e=Cf();if(e)try{e([],"length")}catch{e=null}return Xr=e,Xr}var Qr,Yi;function xf(){if(Yi)return Qr;Yi=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Qr=e,Qr}var Zr,Ki;function kf(){return Ki||(Ki=1,Zr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0}),Zr}var en,Ji;function Nf(){if(Ji)return en;Ji=1;var e=typeof Symbol<"u"&&Symbol,t=kf();return en=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},en}var tn,Xi;function Qi(){return Xi||(Xi=1,tn=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),tn}var rn,Zi;function ea(){if(Zi)return rn;Zi=1;var e=Fi();return rn=e.getPrototypeOf||null,rn}var nn,ta;function Lf(){if(ta)return nn;ta=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(c,u){for(var f=[],h=0;h<c.length;h+=1)f[h]=c[h];for(var v=0;v<u.length;v+=1)f[v+c.length]=u[v];return f},i=function(c,u){for(var f=[],h=u,v=0;h<c.length;h+=1,v+=1)f[v]=c[h];return f},a=function(s,c){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=c);return u};return nn=function(c){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=i(arguments,1),h,v=function(){if(this instanceof h){var y=u.apply(this,o(f,arguments));return Object(y)===y?y:this}return u.apply(c,o(f,arguments))},l=r(0,u.length-f.length),_=[],S=0;S<l;S++)_[S]="$"+S;if(h=Function("binder","return function ("+a(_,",")+"){ return binder.apply(this,arguments); }")(v),u.prototype){var m=function(){};m.prototype=u.prototype,h.prototype=new m,m.prototype=null}return h},nn}var on,ra;function Bt(){if(ra)return on;ra=1;var e=Lf();return on=Function.prototype.bind||e,on}var an,na;function sn(){return na||(na=1,an=Function.prototype.call),an}var cn,oa;function ia(){return oa||(oa=1,cn=Function.prototype.apply),cn}var un,aa;function Mf(){return aa||(aa=1,un=typeof Reflect<"u"&&Reflect&&Reflect.apply),un}var ln,sa;function $f(){if(sa)return ln;sa=1;var e=Bt(),t=ia(),r=sn(),n=Mf();return ln=n||e.call(r,t),ln}var fn,ca;function ua(){if(ca)return fn;ca=1;var e=Bt(),t=Ze(),r=sn(),n=$f();return fn=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return n(e,r,i)},fn}var dn,la;function Uf(){if(la)return dn;la=1;var e=ua(),t=zi(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return dn=n&&typeof n.get=="function"?e([n.get]):typeof i=="function"?function(s){return i(s==null?s:o(s))}:!1,dn}var pn,fa;function Bf(){if(fa)return pn;fa=1;var e=Qi(),t=ea(),r=Uf();return pn=e?function(o){return e(o)}:t?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return t(o)}:r?function(o){return r(o)}:null,pn}var hn,da;function qf(){if(da)return hn;da=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Bt();return hn=r.call(e,t),hn}var mn,pa;function yn(){if(pa)return mn;pa=1;var e,t=Fi(),r=_f(),n=vf(),o=Ef(),i=bf(),a=Sf(),s=Ze(),c=wf(),u=Af(),f=If(),h=Tf(),v=Of(),l=Pf(),_=Rf(),S=Df(),m=Function,y=function(z){try{return m('"use strict"; return ('+z+").constructor;")()}catch{}},g=zi(),b=xf(),E=function(){throw new s},w=g?function(){try{return arguments.callee,E}catch{try{return g(arguments,"callee").get}catch{return E}}}():E,A=Nf()(),I=Bf(),P=ea(),N=Qi(),R=ia(),M=sn(),T={},Y=typeof Uint8Array>"u"||!I?e:I(Uint8Array),H={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":A&&I?I([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&I?I(I([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!I?e:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":g,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!I?e:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&I?I(""[Symbol.iterator]()):e,"%Symbol%":A?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":w,"%TypedArray%":Y,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":R,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":P,"%Math.abs%":u,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":v,"%Math.pow%":l,"%Math.round%":_,"%Math.sign%":S,"%Reflect.getPrototypeOf%":N};if(I)try{null.error}catch(z){var ne=I(I(z));H["%Error.prototype%"]=ne}var ve=function z(x){var q;if(x==="%AsyncFunction%")q=y("async function () {}");else if(x==="%GeneratorFunction%")q=y("function* () {}");else if(x==="%AsyncGeneratorFunction%")q=y("async function* () {}");else if(x==="%AsyncGenerator%"){var $=z("%AsyncGeneratorFunction%");$&&(q=$.prototype)}else if(x==="%AsyncIteratorPrototype%"){var G=z("%AsyncGenerator%");G&&I&&(q=I(G.prototype))}return H[x]=q,q},Ee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Bt(),oe=qf(),be=C.call(M,Array.prototype.concat),Ge=C.call(R,Array.prototype.splice),Te=C.call(M,String.prototype.replace),Oe=C.call(M,String.prototype.slice),Pe=C.call(M,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,Re=function(x){var q=Oe(x,0,1),$=Oe(x,-1);if(q==="%"&&$!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if($==="%"&&q!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var G=[];return Te(x,Se,function(K,ue,J,te){G[G.length]=J?Te(te,ce,"$1"):ue||K}),G},Fe=function(x,q){var $=x,G;if(oe(Ee,$)&&(G=Ee[$],$="%"+G[0]+"%"),oe(H,$)){var K=H[$];if(K===T&&(K=ve($)),typeof K>"u"&&!q)throw new s("intrinsic "+x+" exists, but is not available. Please file an issue!");return{alias:G,name:$,value:K}}throw new a("intrinsic "+x+" does not exist!")};return mn=function(x,q){if(typeof x!="string"||x.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof q!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Pe(/^%?[^%]*%?$/,x)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=Re(x),G=$.length>0?$[0]:"",K=Fe("%"+G+"%",q),ue=K.name,J=K.value,te=!1,le=K.alias;le&&(G=le[0],Ge($,be([0,1],le)));for(var et=1,De=!0;et<$.length;et+=1){var de=$[et],tt=Oe(de,0,1),rt=Oe(de,-1);if((tt==='"'||tt==="'"||tt==="`"||rt==='"'||rt==="'"||rt==="`")&&tt!==rt)throw new a("property names with quotes must have matching quotes");if((de==="constructor"||!De)&&(te=!0),G+="."+de,ue="%"+G+"%",oe(H,ue))J=H[ue];else if(J!=null){if(!(de in J)){if(!q)throw new s("base intrinsic for "+x+" exists, but the property is not available.");return}if(g&&et+1>=$.length){var nt=g(J,de);De=!!nt,De&&"get"in nt&&!("originalValue"in nt.get)?J=nt.get:J=J[de]}else De=oe(J,de),J=J[de];De&&!te&&(H[ue]=J)}}return J},mn}var gn,ha;function ma(){if(ha)return gn;ha=1;var e=yn(),t=ua(),r=t([e("%String.prototype.indexOf%")]);return gn=function(o,i){var a=e(o,!!i);return typeof a=="function"&&r(o,".prototype.")>-1?t([a]):a},gn}var _n,ya;function ga(){if(ya)return _n;ya=1;var e=yn(),t=ma(),r=Ut(),n=Ze(),o=e("%Map%",!0),i=t("Map.prototype.get",!0),a=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),c=t("Map.prototype.delete",!0),u=t("Map.prototype.size",!0);return _n=!!o&&function(){var h,v={assert:function(l){if(!v.has(l))throw new n("Side channel does not contain "+r(l))},delete:function(l){if(h){var _=c(h,l);return u(h)===0&&(h=void 0),_}return!1},get:function(l){if(h)return i(h,l)},has:function(l){return h?s(h,l):!1},set:function(l,_){h||(h=new o),a(h,l,_)}};return v},_n}var vn,_a;function Hf(){if(_a)return vn;_a=1;var e=yn(),t=ma(),r=Ut(),n=ga(),o=Ze(),i=e("%WeakMap%",!0),a=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),c=t("WeakMap.prototype.has",!0),u=t("WeakMap.prototype.delete",!0);return vn=i?function(){var h,v,l={assert:function(_){if(!l.has(_))throw new o("Side channel does not contain "+r(_))},delete:function(_){if(i&&_&&(typeof _=="object"||typeof _=="function")){if(h)return u(h,_)}else if(n&&v)return v.delete(_);return!1},get:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&h?a(h,_):v&&v.get(_)},has:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&h?c(h,_):!!v&&v.has(_)},set:function(_,S){i&&_&&(typeof _=="object"||typeof _=="function")?(h||(h=new i),s(h,_,S)):n&&(v||(v=n()),v.set(_,S))}};return l}:n,vn}var En,va;function jf(){if(va)return En;va=1;var e=Ze(),t=Ut(),r=gf(),n=ga(),o=Hf(),i=o||n||r;return En=function(){var s,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){return!!s&&s.delete(u)},get:function(u){return s&&s.get(u)},has:function(u){return!!s&&s.has(u)},set:function(u,f){s||(s=i()),s.set(u,f)}};return c},En}var bn,Ea;function Sn(){if(Ea)return bn;Ea=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return bn={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},bn}var wn,ba;function Sa(){if(ba)return wn;ba=1;var e=Sn(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var m=[],y=0;y<256;++y)m.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return m}(),o=function(y){for(;y.length>1;){var g=y.pop(),b=g.obj[g.prop];if(r(b)){for(var E=[],w=0;w<b.length;++w)typeof b[w]<"u"&&E.push(b[w]);g.obj[g.prop]=E}}},i=function(y,g){for(var b=g&&g.plainObjects?{__proto__:null}:{},E=0;E<y.length;++E)typeof y[E]<"u"&&(b[E]=y[E]);return b},a=function m(y,g,b){if(!g)return y;if(typeof g!="object"&&typeof g!="function"){if(r(y))y.push(g);else if(y&&typeof y=="object")(b&&(b.plainObjects||b.allowPrototypes)||!t.call(Object.prototype,g))&&(y[g]=!0);else return[y,g];return y}if(!y||typeof y!="object")return[y].concat(g);var E=y;return r(y)&&!r(g)&&(E=i(y,b)),r(y)&&r(g)?(g.forEach(function(w,A){if(t.call(y,A)){var I=y[A];I&&typeof I=="object"&&w&&typeof w=="object"?y[A]=m(I,w,b):y.push(w)}else y[A]=w}),y):Object.keys(g).reduce(function(w,A){var I=g[A];return t.call(w,A)?w[A]=m(w[A],I,b):w[A]=I,w},E)},s=function(y,g){return Object.keys(g).reduce(function(b,E){return b[E]=g[E],b},y)},c=function(m,y,g){var b=m.replace(/\+/g," ");if(g==="iso-8859-1")return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},u=1024,f=function(y,g,b,E,w){if(y.length===0)return y;var A=y;if(typeof y=="symbol"?A=Symbol.prototype.toString.call(y):typeof y!="string"&&(A=String(y)),b==="iso-8859-1")return escape(A).replace(/%u[0-9a-f]{4}/gi,function(Y){return"%26%23"+parseInt(Y.slice(2),16)+"%3B"});for(var I="",P=0;P<A.length;P+=u){for(var N=A.length>=u?A.slice(P,P+u):A,R=[],M=0;M<N.length;++M){var T=N.charCodeAt(M);if(T===45||T===46||T===95||T===126||T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122||w===e.RFC1738&&(T===40||T===41)){R[R.length]=N.charAt(M);continue}if(T<128){R[R.length]=n[T];continue}if(T<2048){R[R.length]=n[192|T>>6]+n[128|T&63];continue}if(T<55296||T>=57344){R[R.length]=n[224|T>>12]+n[128|T>>6&63]+n[128|T&63];continue}M+=1,T=65536+((T&1023)<<10|N.charCodeAt(M)&1023),R[R.length]=n[240|T>>18]+n[128|T>>12&63]+n[128|T>>6&63]+n[128|T&63]}I+=R.join("")}return I},h=function(y){for(var g=[{obj:{o:y},prop:"o"}],b=[],E=0;E<g.length;++E)for(var w=g[E],A=w.obj[w.prop],I=Object.keys(A),P=0;P<I.length;++P){var N=I[P],R=A[N];typeof R=="object"&&R!==null&&b.indexOf(R)===-1&&(g.push({obj:A,prop:N}),b.push(R))}return o(g),y},v=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},l=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},_=function(y,g){return[].concat(y,g)},S=function(y,g){if(r(y)){for(var b=[],E=0;E<y.length;E+=1)b.push(g(y[E]));return b}return g(y)};return wn={arrayToObject:i,assign:s,combine:_,compact:h,decode:c,encode:f,isBuffer:l,isRegExp:v,maybeMap:S,merge:a},wn}var An,wa;function Gf(){if(wa)return An;wa=1;var e=jf(),t=Sa(),r=Sn(),n=Object.prototype.hasOwnProperty,o={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,y){return m+"["+y+"]"},repeat:function(m){return m}},i=Array.isArray,a=Array.prototype.push,s=function(S,m){a.apply(S,i(m)?m:[m])},c=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(m){return c.call(m)},skipNulls:!1,strictNullHandling:!1},h=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},v={},l=function S(m,y,g,b,E,w,A,I,P,N,R,M,T,Y,H,ne,ve,Ee){for(var C=m,oe=Ee,be=0,Ge=!1;(oe=oe.get(v))!==void 0&&!Ge;){var Te=oe.get(m);if(be+=1,typeof Te<"u"){if(Te===be)throw new RangeError("Cyclic object value");Ge=!0}typeof oe.get(v)>"u"&&(be=0)}if(typeof N=="function"?C=N(y,C):C instanceof Date?C=T(C):g==="comma"&&i(C)&&(C=t.maybeMap(C,function(ue){return ue instanceof Date?T(ue):ue})),C===null){if(w)return P&&!ne?P(y,f.encoder,ve,"key",Y):y;C=""}if(h(C)||t.isBuffer(C)){if(P){var Oe=ne?y:P(y,f.encoder,ve,"key",Y);return[H(Oe)+"="+H(P(C,f.encoder,ve,"value",Y))]}return[H(y)+"="+H(String(C))]}var Pe=[];if(typeof C>"u")return Pe;var Se;if(g==="comma"&&i(C))ne&&P&&(C=t.maybeMap(C,P)),Se=[{value:C.length>0?C.join(",")||null:void 0}];else if(i(N))Se=N;else{var ce=Object.keys(C);Se=R?ce.sort(R):ce}var Re=I?String(y).replace(/\./g,"%2E"):String(y),Fe=b&&i(C)&&C.length===1?Re+"[]":Re;if(E&&i(C)&&C.length===0)return Fe+"[]";for(var z=0;z<Se.length;++z){var x=Se[z],q=typeof x=="object"&&x&&typeof x.value<"u"?x.value:C[x];if(!(A&&q===null)){var $=M&&I?String(x).replace(/\./g,"%2E"):String(x),G=i(C)?typeof g=="function"?g(Fe,$):Fe:Fe+(M?"."+$:"["+$+"]");Ee.set(m,be);var K=e();K.set(v,Ee),s(Pe,S(q,G,g,b,E,w,A,I,g==="comma"&&ne&&i(C)?null:P,N,R,M,T,Y,H,ne,ve,K))}}return Pe},_=function(m){if(!m)return f;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=m.charset||f.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=r.default;if(typeof m.format<"u"){if(!n.call(r.formatters,m.format))throw new TypeError("Unknown format option provided.");g=m.format}var b=r.formatters[g],E=f.filter;(typeof m.filter=="function"||i(m.filter))&&(E=m.filter);var w;if(m.arrayFormat in o?w=m.arrayFormat:"indices"in m?w=m.indices?"indices":"repeat":w=f.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:f.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:f.addQueryPrefix,allowDots:A,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:w,charset:y,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?f.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:f.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:f.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:f.encodeValuesOnly,filter:E,format:g,formatter:b,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:f.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:f.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:f.strictNullHandling}};return An=function(S,m){var y=S,g=_(m),b,E;typeof g.filter=="function"?(E=g.filter,y=E("",y)):i(g.filter)&&(E=g.filter,b=E);var w=[];if(typeof y!="object"||y===null)return"";var A=o[g.arrayFormat],I=A==="comma"&&g.commaRoundTrip;b||(b=Object.keys(y)),g.sort&&b.sort(g.sort);for(var P=e(),N=0;N<b.length;++N){var R=b[N],M=y[R];g.skipNulls&&M===null||s(w,l(M,R,A,I,g.allowEmptyArrays,g.strictNullHandling,g.skipNulls,g.encodeDotInKeys,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,P))}var T=w.join(g.delimiter),Y=g.addQueryPrefix===!0?"?":"";return g.charsetSentinel&&(g.charset==="iso-8859-1"?Y+="utf8=%26%2310003%3B&":Y+="utf8=%E2%9C%93&"),T.length>0?Y+T:""},An}var In,Aa;function Wf(){if(Aa)return In;Aa=1;var e=Sa(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(v){return v.replace(/&#(\d+);/g,function(l,_){return String.fromCharCode(parseInt(_,10))})},i=function(v,l,_){if(v&&typeof v=="string"&&l.comma&&v.indexOf(",")>-1)return v.split(",");if(l.throwOnLimitExceeded&&_>=l.arrayLimit)throw new RangeError("Array limit exceeded. Only "+l.arrayLimit+" element"+(l.arrayLimit===1?"":"s")+" allowed in an array.");return v},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",c=function(l,_){var S={__proto__:null},m=_.ignoreQueryPrefix?l.replace(/^\?/,""):l;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=_.parameterLimit===1/0?void 0:_.parameterLimit,g=m.split(_.delimiter,_.throwOnLimitExceeded?y+1:y);if(_.throwOnLimitExceeded&&g.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var b=-1,E,w=_.charset;if(_.charsetSentinel)for(E=0;E<g.length;++E)g[E].indexOf("utf8=")===0&&(g[E]===s?w="utf-8":g[E]===a&&(w="iso-8859-1"),b=E,E=g.length);for(E=0;E<g.length;++E)if(E!==b){var A=g[E],I=A.indexOf("]="),P=I===-1?A.indexOf("="):I+1,N,R;P===-1?(N=_.decoder(A,n.decoder,w,"key"),R=_.strictNullHandling?null:""):(N=_.decoder(A.slice(0,P),n.decoder,w,"key"),R=e.maybeMap(i(A.slice(P+1),_,r(S[N])?S[N].length:0),function(T){return _.decoder(T,n.decoder,w,"value")})),R&&_.interpretNumericEntities&&w==="iso-8859-1"&&(R=o(String(R))),A.indexOf("[]=")>-1&&(R=r(R)?[R]:R);var M=t.call(S,N);M&&_.duplicates==="combine"?S[N]=e.combine(S[N],R):(!M||_.duplicates==="last")&&(S[N]=R)}return S},u=function(v,l,_,S){var m=0;if(v.length>0&&v[v.length-1]==="[]"){var y=v.slice(0,-1).join("");m=Array.isArray(l)&&l[y]?l[y].length:0}for(var g=S?l:i(l,_,m),b=v.length-1;b>=0;--b){var E,w=v[b];if(w==="[]"&&_.parseArrays)E=_.allowEmptyArrays&&(g===""||_.strictNullHandling&&g===null)?[]:e.combine([],g);else{E=_.plainObjects?{__proto__:null}:{};var A=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,I=_.decodeDotInKeys?A.replace(/%2E/g,"."):A,P=parseInt(I,10);!_.parseArrays&&I===""?E={0:g}:!isNaN(P)&&w!==I&&String(P)===I&&P>=0&&_.parseArrays&&P<=_.arrayLimit?(E=[],E[P]=g):I!=="__proto__"&&(E[I]=g)}g=E}return g},f=function(l,_,S,m){if(l){var y=S.allowDots?l.replace(/\.([^.[]+)/g,"[$1]"):l,g=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,E=S.depth>0&&g.exec(y),w=E?y.slice(0,E.index):y,A=[];if(w){if(!S.plainObjects&&t.call(Object.prototype,w)&&!S.allowPrototypes)return;A.push(w)}for(var I=0;S.depth>0&&(E=b.exec(y))!==null&&I<S.depth;){if(I+=1,!S.plainObjects&&t.call(Object.prototype,E[1].slice(1,-1))&&!S.allowPrototypes)return;A.push(E[1])}if(E){if(S.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+S.depth+" and strictDepth is true");A.push("["+y.slice(E.index)+"]")}return u(A,_,S,m)}},h=function(l){if(!l)return n;if(typeof l.allowEmptyArrays<"u"&&typeof l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof l.decodeDotInKeys<"u"&&typeof l.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(l.decoder!==null&&typeof l.decoder<"u"&&typeof l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof l.charset<"u"&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof l.throwOnLimitExceeded<"u"&&typeof l.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var _=typeof l.charset>"u"?n.charset:l.charset,S=typeof l.duplicates>"u"?n.duplicates:l.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof l.allowDots>"u"?l.decodeDotInKeys===!0?!0:n.allowDots:!!l.allowDots;return{allowDots:m,allowEmptyArrays:typeof l.allowEmptyArrays=="boolean"?!!l.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof l.allowPrototypes=="boolean"?l.allowPrototypes:n.allowPrototypes,allowSparse:typeof l.allowSparse=="boolean"?l.allowSparse:n.allowSparse,arrayLimit:typeof l.arrayLimit=="number"?l.arrayLimit:n.arrayLimit,charset:_,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:n.charsetSentinel,comma:typeof l.comma=="boolean"?l.comma:n.comma,decodeDotInKeys:typeof l.decodeDotInKeys=="boolean"?l.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof l.decoder=="function"?l.decoder:n.decoder,delimiter:typeof l.delimiter=="string"||e.isRegExp(l.delimiter)?l.delimiter:n.delimiter,depth:typeof l.depth=="number"||l.depth===!1?+l.depth:n.depth,duplicates:S,ignoreQueryPrefix:l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof l.interpretNumericEntities=="boolean"?l.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof l.parameterLimit=="number"?l.parameterLimit:n.parameterLimit,parseArrays:l.parseArrays!==!1,plainObjects:typeof l.plainObjects=="boolean"?l.plainObjects:n.plainObjects,strictDepth:typeof l.strictDepth=="boolean"?!!l.strictDepth:n.strictDepth,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof l.throwOnLimitExceeded=="boolean"?l.throwOnLimitExceeded:!1}};return In=function(v,l){var _=h(l);if(v===""||v===null||typeof v>"u")return _.plainObjects?{__proto__:null}:{};for(var S=typeof v=="string"?c(v,_):v,m=_.plainObjects?{__proto__:null}:{},y=Object.keys(S),g=0;g<y.length;++g){var b=y[g],E=f(b,S[b],_,typeof v=="string");m=e.merge(m,E,_)}return _.allowSparse===!0?m:e.compact(m)},In}var Tn,Ia;function Vf(){if(Ia)return Tn;Ia=1;var e=Gf(),t=Wf(),r=Sn();return Tn={formats:r,parse:t,stringify:e},Tn}var On=Vf();const zf=/^(?:https:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?%#[\]@!\$&'\(\)\*\+,;=.]+$/m,Yf=e=>zf.test(e)?(e.startsWith("https")?window.location.href=e:window.location.href=`https://${e}`,!0):(console.error("Invalid redirect URL"),!1);class Kf{constructor(t,r,n,o){this.redirect={},this.globalEvents=[],this.setData=(a,s)=>{this.data=a,this.domElement=s,this.redirect={}},this.onMessage=a=>{a.data?.action==="close"?this.close():a.data.action==="REDIRECT"?Yf(a.data.url)||this.removeLayout():a.data.action==="booking-confirmed"?this.form.onSuccess(a.data.args):a.data.action==="error"?this.form.onError(a.data.args):a.data.action==="prospect-routed"?this.options.onRouted?.(a.data.args):a.data.action==="prospect-disqualified"?this.options.onDisqualified?.():a.data.action==="routing"?this.options.onRouting?.():a.data.action==="started-listening-form-data-update"?this.isListeningForDataUpdates=!0:a.data.action==="stopped-listening-form-data-update"&&(this.isListeningForDataUpdates=!1)},this.addAndRegisterListener=(a,s)=>{this.globalEvents.push({event:a,callback:s}),window.addEventListener(a,s)},this.removeEventListeners=()=>{this.globalEvents.forEach(({event:a,callback:s})=>{window.removeEventListener(a,s)}),this.globalEvents=[]},this.form=t,this.options=t.options,this.isPopupOpen=!1;const i={...r};delete i.hs_context,delete i.gclid,On.stringify(i).length<2e3?this.data=i:this.data={},this.domElement=n,this.crmEvent=o,this.redirect={},this.isListeningForDataUpdates=!1,window.addEventListener?this.addAndRegisterListener("message",this.onMessage):window.attachEvent&&window.attachEvent("onmessage",this.onMessage,!1),this.buildLayout()}removeLayout(){this.layout&&(this.layout.parentNode?this.layout.parentNode?.removeChild(this.layout):this.getParentNode().removeChild(this.layout),this.layout=void 0,this.data={})}close(){this.removeLayout(),this.buildLayout(),this.form.onClose(!1),this.isListeningForDataUpdates=!0}destroy(){this.isPopupOpen&&(console.group("Concierge called twice, removing first popup. Please, remove one of the calls to avoid unexpected behavior."),console.trace(),console.groupEnd(),this.removeLayout(),this.removeEventListeners())}getParentNode(){if(!this.domElement)return document.body;if(typeof this.domElement=="string"){const t=document.querySelector(this.domElement);return t||document.body}return this.domElement}getOptions(){return{by:this.options.by,locale:this.options.locale,accountId:this.options.accountId,closeOnOutside:this.options.closeOnOutside,dynamicRedirectLink:this.options.dynamicRedirectLink,caseId:this.options.caseId,assigneeCrmId:this.options.assigneeCrmId,domElement:this.options.domElement,type:this.options.type,trigger:this.options.trigger||"ThirdPartyForm",ownerId:this.options.ownerId,objectId:this.options.objectId,attendees:this.options.attendees,...Object.keys(this.options.event||{}).reduce((t,r)=>(t[`event_${r}`]=this.options.event?.[r],t),{}),meetingTypeId:this.options.meetingTypeId,campaignId:this.options.campaignId,status:this.options.status,opportunityId:this.options.opportunityId,disableRelation:this.options.disableRelation}}getPopUpData(){const t=this.getOptions();return delete this.data[""],delete this.data.hs_context,{...{...this.data,...t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},sourceUrl:window.location.href}}getPopUpBaseUrl(){const{domain:t,router:r}=this.options;return r||console.error("chilipiper >> ","No router slug provided"),t||console.error("chilipiper >> ","No domain provided"),`${`https://${t}.${wi.domain}`}/concierge-router/${r.toLowerCase()}`}getPopUpUrl(){const t=this.getPopUpData(),r=On.stringify(Object.fromEntries(Object.entries(t).filter(([o,i])=>i!==void 0&&i!==""&&i!==null))),n=`${this.getPopUpBaseUrl()}?${r}`;return console.log({data:t,link:n}),n}buildLayout(){if(!this.layout){const r=document.createElement("div");this.domElement?(r.style.position="relative",r.style.width="100%",r.style.height="100%"):(r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.position="fixed"),r.style.zIndex="-1",this.getParentNode().appendChild(r),this.layout=r}const t=document.createElement("iframe");t.className="chilipiper-frame",t.src=this.getPopUpUrl(),t.style.border="0",t.style.overflow="hidden",t.style.height="0",t.style.width="1px",t.style.minWidth="0",this.layout.appendChild(t),this.iframe=t}updateFormData(t=1){const r=this.iframe;if(r){if(this.isListeningForDataUpdates||t===30){const n=this.getPopUpData();return console.log({data:n}),r.contentWindow?.postMessage({type:"UPDATE_CONCIERGE_FORM_DATA",data:On.stringify({...n})},"*")}setTimeout(()=>{this.updateFormData(t+1)},100*t)}}showPopUp(t){const r=this.layout,n=this.iframe;if(!this.options.domain){this.form.onError("The domain cannot be empty");return}r&&n&&(r.style.zIndex="99999",n.style.height="100%",n.style.minWidth="100%",this.isPopupOpen=!0,n.focus(),t&&this.updateFormData())}}class ee{constructor(t){const r=()=>!0;this.options=Object.freeze(Object.assign(t,{onError:t.onError||r,onSuccess:t.onSuccess||r,onClose:t.onClose||r,onRouting:t.onRouting||r,onDisqualified:t.onDisqualified||r})),this.popup=new Kf(this,t.lead||{},t.domElement,t.event),this.prelaunch=new Ii(t.form,this.popup),this.prelaunch.enrichmentParentSelector=t.enrichmentParentSelector||t.enrichmentParentDivClassName,this.form=t.form,window.ChiliPiper&&(window.ChiliPiper.marketingApi=this)}setForm(t){this.form=t,this.prelaunch.setForm(t)}get formId(){return this.options.formId}get formOptions(){return{by:this.options.by,formIds:this.options.formIds,formId:this.options.formId,debug:this.options.debug===!0,trigger:this.options.trigger||"ThirdPartyForm",map:this.options.map===void 0?!0:this.options.map,domain:this.options.domain,router:this.options.router,locale:this.options.locale,ownerId:this.options.ownerId,accountId:this.options.accountId,type:this.options.type,skipOwnershipLogic:this.options.skipOwnershipLogic,webHook:this.options.webHook,disableRelation:this.options.disableRelation,skipFormFallbackUponAccountDQ:this.options.skipFormFallbackUponAccountDQ}}showCalendar(t,r){const n=Object.keys(this.popup.data||{}).length===0;this.popup.setData(t,r),this.popup.showPopUp(n)}onError(t){let r="An error has occured";t&&(r=t.responseText||t.response||t),console.error("chilipiper >> ",r);const n={message:r,error:t};this.options.onError&&this.options.onError(n)}onSuccess(t){this.options.onSuccess&&this.options.onSuccess(t)}onClose(t){this.options.onClose&&!t&&this.options.onClose(),this.prelaunch.removeEventListeners()}reduceForm(t){return t?Array.from(t.elements).filter(n=>(n.type!=="radio"||n.type==="radio"&&n.checked===!0)&&n.type!=="password").filter(n=>n.name&&n.name!=="password").reduce((n,o)=>{const i=o.name?.includes(".")?o.name.split(".").join(""):o.name;return o.hasAttribute("data-enriched")||(o.type==="checkbox"?o.checked&&(n[i]=o.value):n[i]=o.value),n},{}):{}}}function Pn(e,t,r=!1){const n=document.querySelectorAll(e);if(n.length)return console.debug(`form found: ${e}`),t(n);if(r)return t(n);setTimeout(()=>{Pn(e,t)},500)}function Jf(e){return e.query?e.query:e.formIds?e.formIds.map(t=>`#${t}`).join(","):e.formId?`#${e.formId}`:"form"}const Xf=e=>{window.addEventListener("DOMContentLoaded",()=>{e()})},qt=e=>t=>Pn(Jf(t),r=>e({...t,shouldCheck:!0},r),!!t.lead||!!t.form),Qf=(e,t=1e3)=>{let r;return(...n)=>{r||(e(...n),r=!0,setTimeout(()=>r=!1,t))}};class Ta extends ee{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",t=>this.handleSubmit(t))}handleSubmit(t){t.preventDefault();const r=this.postUrl();r&&this.sendData(r,this.formData),this.showCalendar(this.formData)}get formData(){return this.reduceForm(this.form)}sendData(t,r){const n=new FormData;for(const o in r)n.append(o,r[o]);gt(t,{method:"POST",body:n,credentials:"include"})}postUrl(){const t=this.form||document.getElementsByTagName("form")[0];if(t?.action)return t.action}}class Zf extends Ta{addSubmitHandler(){this.instrumentMarketoForm(this.formId)}instrumentMarketoForm(t){const r=window.MktoForms2?.getForm(t)||window.MktoForms2?.allForms()[0];r?.getId()?(this.marketoForm=r,this.marketoButton=this.marketoForm.getFormElem().find(".mktoButton"),this.marketoButtonTitle=this.marketoButton.html(),r.onSuccess(n=>(this.showCalendar(n),!1))):setTimeout(()=>this.instrumentMarketoForm(t),500)}get formOptions(){return{by:this.options.by,formIds:this.options.formIds,formId:this.options.formId,debug:this.options.debug===!0,domain:this.options.domain,router:this.options.router,locale:this.options.locale,accountId:this.options.accountId,type:this.options.type,trigger:this.options.trigger||"ThirdPartyForm",ownerId:this.options.ownerId,skipOwnershipLogic:this.options.skipOwnershipLogic,webHook:this.options.webHook,disableRelation:this.options.disableRelation,skipFormFallbackUponAccountDQ:this.options.skipFormFallbackUponAccountDQ,map:!!this.options.map}}onClose(t){super.onClose(t),this.marketoForm.submittable(!0),this.marketoButton.removeAttr("disabled").html(this.marketoButtonTitle)}}class ed extends ee{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",()=>this.handleSubmit())}handleSubmit(){const t=this.formData;t.sender="form",window.localStorage.setItem("dataPardot",JSON.stringify(t))}get formData(){return this.reduceForm(this.form)}}class Oa extends ee{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",t=>{this.storeData(t),this.handleSubmit(t),this.postUrl()})}storeData(t){this.hubspotForm=t.target;const r=this.formData;window.localStorage.setItem("hubspotData",JSON.stringify(r))}handleSubmit(t){t.target.id.includes("hsForm")&&(this.hubspotForm=t.target,this.hubspotForm.checkValidity()&&document.getElementsByClassName("hs_email")[0].childElementCount<4&&this.showCalendar(this.formData))}get formData(){return this.reduceForm(this.hubspotForm)}sendData(t,r,n){const o=new FormData;for(const i in r)o.append(i,r[i]);o.set("meeting_booked_cp",String(n)),gt(t,{method:"POST",body:o,mode:"no-cors",credentials:"include"})}postUrl(){const t=this.form||document.getElementsByTagName("form")[0];t?.action&&(this.actionUrl=t.action)}onSuccess(){const t=this.formData,r=this.actionUrl;t.meeting_booked_cp&&r&&this.sendData(r,t,!0)}onClose(){}}const td=e=>{const t={},r=new ee(e),n=decodeURIComponent(document.location.search.replace(/\+/g," ")),i=new URLSearchParams(n).entries();let a=!1;for(const[s,c]of i)s.toLowerCase().includes("email")&&c.includes("@")?(t[s]=c.replaceAll(" ","+"),a=!0):t[s]=c;a&&(se({...e,lead:{...t,...e.lead??{}},map:!0},r),console.log(t))},rd=e=>{const t=new ee(e);se({...e,map:!0},t)},nd=(e={})=>Object.keys(e).reduce((t,r)=>(Array.isArray(e[r])?t[r]=e[r].toString().replaceAll(",",";"):t[r]=e[r],t),{}),od=(e,t)=>{const r=e.formIds??[],n=new ee(e);let o={};window.addEventListener("hs-form-event:on-submission:success",i=>{const a=window.HubspotFormsV4?.getFormFromEvent(i);if(!a||r.length>0&&!r.includes(a.getFormId()))return;const s=c=>{o=c.reduce((u,{name:f,value:h})=>(Array.isArray(h)&&(h=h.join(";")),u[f]=h,u),{}),console.log(o),se({...e,map:!0,lead:{...o,...e.lead??{}}},n,t)};a.getFormFieldValues().then(s).catch(c=>{console.error("Error loading form values from Hubspot",c)})}),window.addEventListener("message",i=>{if(!(r.length>0&&!r.includes(String(i.data.id)))&&(["hsFormCallback","hsCallsToActionCallback"].includes(i.data.type)&&["onFormSubmitted","onCallToActionFormSubmitted"].includes(i.data.eventName)&&(Object.keys(o).length===0&&(o=nd(i.data.data.submissionValues)),console.log(o),se({...e,map:!0,lead:{...o,...e.lead??{}}},n,t)),i.data.type==="hsFormCallback"&&i.data.eventName==="onBeforeFormSubmit"&&(o=(i.data.data||[]).reduce((a,s)=>(Array.isArray(s.value)?a[s.name]=s.value.toString().replaceAll(",",";"):a[s.name]=s.value,a),{}),console.log("onBeforeFormSubmit",o)),i.data.type==="hsFormCallback"&&i.data.eventName==="onFormReady")){const a=e.formId?`form[data-form-id="${e.formId}"]`:`form[data-form-id="${i.data.id}"]`;Pn(a,s=>n.setForm(s[0]))}})},id=e=>{const t=new ee(e);window.addEventListener("message",function(r){if(r.data.conversionId){const n={},o=document.querySelectorAll('form[data-form-id="'+e.formId+'"] input,select')??[];for(let i=0;i<o.length;i++)n[o[i].name]=o[i].value;se({...e,map:!0,lead:{...n,...e.lead??{}}},t)}})},ad=e=>{if(window.MktoForms2){const t=new ee(e);window.MktoForms2.whenReady(r=>{const n=r.getId().toString().replace("mktoForm_",""),o=e.formId?e.formId:e.formIds?.length?e.formIds.find(a=>a.replace("mktoForm_","")===n):n,i=document.querySelector(`form[id="mktoForm_${o}"]`);i&&(t.prelaunch.enrichmentParentSelector=".mktoFormRow",t.setForm(i)),r.onSuccess(a=>o===n?(se({...e,map:!0,lead:{...a,...e.lead??{}}},t),!1):(console.log(`Submitted form ID ${n} is not in the options`),!0))})}},sd="Email",cd=e=>{Da({...e,queryVariable:e.queryVariable??sd})},ud=e=>e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(t){return+t==0?"":t.toUpperCase()}),ld=(e="")=>ud(e).replace(/[^\w]/gi,""),fd=(e="")=>e.split(" ").find(t=>t.toLocaleLowerCase().indexOf("cp_")===0),ht=(e,t)=>{(!(typeof t?.debug<"u")||t.debug)&&console.log(e)},dd=e=>{const t={},r=decodeURIComponent(document.location.search.replace(/\+/g," ")),o=new URLSearchParams(r).entries();let i=!1;for(const[a,s]of o)a.toLowerCase().includes("email")&&s.includes("@")?(t[a]=s.replaceAll(" ","+"),i=!0):t[a]=s;if(i){const a=new ee({...e,domain:t.CPTenantDomain,router:t.CPTenantRouter,lead:{...t,...e.lead??{}},map:!0});se({...a.options},a),ht(t,e)}},pd=(e,t,r)=>{const n={CPTenantDomain:e,CPTenantRouter:t};return r.querySelectorAll(".form-field").forEach(i=>{const a=i.querySelector("label.field-label"),s=i.querySelector("input, select, textarea");if(!s)return;if(s.hasAttribute("data-enriched")){ht(`not sending enriched value for element ${s.id}`);return}const c=fd(s.parentElement?.className)||ld(a?.textContent||"")||s.id||"[unnamed field]";let u="[not provided]";if(s instanceof HTMLSelectElement){const f=s.options[s.selectedIndex];u=s.selectedIndex===0?"[not provided]":f?.text??"[not provided]"}else if(s instanceof HTMLInputElement)if(s.type==="checkbox")u=String(s.checked);else if(s.type==="radio")if(s.checked)u=s.value;else return;else u=s.value?.trim()||"[not provided]";else"value"in s&&typeof s.value=="string"&&(u=s.value.trim());s.id&&(n[s.id]=u),n[c]=u}),ht(n),n},hd=e=>{const t=e.formId??"#pardot-form",r=new Ii,n=i=>()=>{const a=pd(e.domain,e.router,i);r.routingId&&(a.routingId=r.routingId);const s={message:"PARDOT_DATA_READY",data:a};window.parent.postMessage(s,"*"),ht(a,e)},o=(i=1)=>{const a=document.querySelector(t);if(a){r.setForm(a),a.addEventListener("submit",n(a));return}(!(typeof e.retryFormSearch<"u")||e.retryFormSearch)&&i<10?setTimeout(()=>{o(i+1)},1e3):ht("no form found on this page, id used - "+t,e)};o()},Pa=()=>{const e={message:"PARDOT_FORM_SUCCESS",data:window.location.search};window.parent.postMessage(e,"*")},Ra=e=>{const t=new ee(e),r=document.querySelector('iframe[src*="pardot"]');if(r){const i=a=>{a.data.type==="PERFORM_PRELAUNCH"&&t.popup.iframe?t.popup.iframe.contentWindow?.postMessage({...a.data},"*"):r.contentWindow?.postMessage({...a.data},"*")};window.addEventListener("message",i)}let n={};const o=i=>{if(i.data?.message&&(i.data.message==="PARDOT_DATA_READY"&&i.data.data&&(n=i.data.data),i.data.message==="PARDOT_FORM_SUCCESS")){if(Object.keys(n).length===0){const a=decodeURIComponent(i.data.data.replace(/\+/g," ")),c=new URLSearchParams(a).entries();for(const[u,f]of c)n[u]=f}se({domain:n.CPTenantDomain||e.domain,router:n.CPTenantRouter||e.router,lead:{...n,...e.lead??{}}},t)}};window.addEventListener("message",o,!1)},md=e=>{window.instapageFormSubmitSuccess=function(t){const r=new ee(e),n={};for(let o=0;o<t.elements.length;o++){const i=t.elements[o];i.name&&(n[i.name]=i.value)}se({...e,lead:{...n,...e.lead}},r)}},yd=(e,t)=>{switch(e.formType){case"Hubspot":od(e,t);break;case"HubspotPopup":id(e);break;case"PardotFormHandler":dd(e);break;case"PardotIframeThankYouCode":Pa();break;case"PardotIframeParentPage":Ra(e);break;case"PardotFormHandlerThankYouCode":Ra(e),Pa();break;case"PardotLookAndFeel":hd(e);break;case"Marketo":qt(ad)(e);break;case"GravityForms":td(e);break;case"GravityFormsOnFormPage":rd(e);break;case"Typeform":cd(e);break;case"Instapage":md(e);break;default:qt(Rn)(e);break}};console.log("Concierge version","1.3.6008");const gd=(e,t)=>{const r=e.id??"",n=typeof hbspt<"u"&&r.includes("hsForm"),o=r.includes("mktoForm")&&window.MktoForms2!==void 0,i=r==="pardot-form"||r.includes("gform");return n?new Oa({...t,form:e}):o?new Zf({form:e,formId:r,...t}):i?new ed({form:e,...t}):new Ta({form:e,...t})},_d=(e,t)=>Array.from(t).map(n=>gd(n,e)),vd=e=>{const t=JSON.parse(window.localStorage.getItem("hubspotData")||"");new Oa({...e}).showCalendar(t,e.domElement)};let Fa=20;const Rn=(e,t)=>{t.length>0?_d(e,t):window.location.href.includes("hsFormGuid")&&window.location.href.includes("submissionGuid")?vd(e):Fa>0?(Fa-=1,setTimeout(()=>{Rn(e,t)},1e3)):console.log("chilipiper >> could not integrate [form absent]")},Ed=(e,t)=>r=>{e.showCalendar(t,r.domElement)},se=Qf((e,t,r)=>{window.ChiliPiper?.marketingApi&&window.ChiliPiper?.marketingApi.popup.destroy();try{e.debug&&console.log("chilipiper >> ",e);const n=e.form||(r?r[0]:void 0);if(t.setForm(n),e.lead)e.map=e.map||!1,t.showCalendar(e.lead,e.domElement);else{e.map=!0;const o=Array.from(n?.elements??[]).reduce((i,a)=>(i[a.name]=a.value,i),{});Ed(t,o)(e)}}catch(n){hf(n)}}),bd=(e,t)=>{const r=e.formIds??[],n=new ee(e);window.addEventListener("message",o=>{if(!(r.length>0&&!r.includes(o.data.id))&&o.data.type==="hsFormCallback"&&o.data.eventName==="onFormSubmitted"){const i=o.data.data.submissionValues||{},a=Object.keys(i).reduce((s,c)=>(Array.isArray(i[c])?s[c]=i[c].toString().replaceAll(",",";"):s[c]=i[c],s),{});console.log(a),se({...e,map:!0,lead:a},n,t)}})},Fn=()=>{const t=window.location.search.substring(1).split("&"),r={};for(let n=0;n<t.length;n++){const o=t[n].split("=");r[o[0]]=decodeURIComponent(o[1])}return r},Sd=e=>Fn()[e]||!1,wd=e=>{const t=Fn();return Object.keys(t).some(r=>r.toLowerCase().includes(e.toLowerCase()))},Da=e=>{if((e.checkInclusive?wd:Sd)(e.queryVariable||"email")){const r={...e,map:e.map!==void 0?e.map:!0,lead:{...e.lead||{},...Fn()}},n=new ee(r);se({...r},n)}},Dn={getQuery:(e,t,r={})=>Xf(()=>Da({domain:e,router:t,...r})),scheduling:(e,t,r={})=>qt(Rn)({domain:e,router:t,...r}),submit:(e,t,r={})=>qt((n,o)=>se({...n},new ee(n),o))({domain:e,router:t,...r}),initHSIframeForm:(e,t,r={})=>bd({domain:e,router:t,...r}),deploy:(e,t,r={})=>yd({domain:e,router:t,...r}),setForm:e=>{window.ChiliPiper?.marketingApi.setForm(e)}};window.ChiliPiper&&Object.keys(window.ChiliPiper).forEach(e=>{window.ChiliPiper[e].cp?.length&&window.ChiliPiper[e].cp.forEach(t=>Dn[e](...t)),window.ChiliPiper[e].q?.length&&window.ChiliPiper[e].q.forEach(t=>Dn[e](...t))}),globalThis.ChiliPiper=Dn})();
//# sourceMappingURL=concierge.js.map
